<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> [ACM][BestCoder]两次的DP · kidozh</title><meta name="description" content="[ACM][BestCoder]两次的DP - kido zhang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://kidozh.com/atom.xml" title="kidozh"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/u/1793490853" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/kidozh" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">[ACM][BestCoder]两次的DP</h1><div class="post-info">2015年7月14日</div><div class="post-content"><div id="problem-info"><br><br># Senior’s String<br><br><div> Accepts: 30</div><br><div> Submissions: 286</div><br><div><br><div> Time Limit: 2000/1000 MS (Java/Others)</div><br><div> Memory Limit: 65536/65536 K (Java/Others)</div><br></div><br></div><br><div><br><div><br><div>Problem Description</div><br><div><br><br>Xuejiejie loves strings most. In order to win the favor of her, a young man has two strings X, Y to Xuejiejie. Xuejiejie has never seen such beautiful strings! These days, she is very happy. But Xuejiejie is missish so much, in order to cover up her happiness, she asks the young man a question. In face of Xuejiejie, the young man is flustered. So he asks you for help.<br><br>The question is that : Define the L as the length of the longest common subsequence of X and Y.( The subsequence does not need to be continuous in the string, and a string of length L has 2L subsequences containing the empty string ). Now Xuejiejie comes up with all subsequences of length L of string X, she wants to know the number of subsequences which is also the subsequence of string Y.<br><br></div><br></div><br><div><br><div>Input</div><br><div><br><br>In the first line there is an integer T, indicates the number of test cases.<br><br>In each case:<br><br>The first line contains string X, a non-empty string consists of lowercase English letters.<br><br>The second line contains string Y, a non-empty string consists of lowercase English letters.<br><br>1≤|X|,|Y|≤1000, |X| means the length of X.<br><br></div><br></div><br><div><br><div>Output</div><br><div><br><br>For each test case, output one integer which means the number of subsequences of length L of X which also is the subsequence of string Y modulo 109+7.<br><br></div><br></div><br><div><br><div>Sample Input</div><br><div><br><pre>2<br>a<br>b<br>aa<br>ab</pre><br></div><br></div><br><div><br><div>Sample Output</div><br><div><br><pre>1<br>2</pre><br></div><br></div><br></div><br><div>大意就是说求具有相同长度的LCS的子串的个数….</div><br><div>首先处理出LCS是一个nm的算法，dp可以YY出来，然后再用一次DP，<br>用f[i][j]表示在X串的前i个字符中，有多少个长度为dp[i][j]的子序列在Y的前j个字符中也出现了。转移：若dp[i−1][j]==dp[i][j]，则f[i][j]+=f[i−1][j]，表示i这个字符不选；再考虑选i这个字符，找到Y串前j个字符中最靠后的与X[i]匹配的字符的位置，设为p，若dp[i−1][p−1]+1==dp[i][j]，则f[i][j]+=f[i−1][p−1]。最终的答案即为f[n][m]。</div></div></article></div></main><footer><div class="paginator"><a href="/2015/08/05/web-safety-xss-e7-ae-80-e4-bb-8b/" class="prev">上一篇</a><a href="/2015/05/31/e6-9c-ba-e5-99-a8-e5-ad-a6-e4-b9-a0-e6-9c-ba-e5-99-a8-e5-ad-a6-e4-b9-a0-e7-ae-97-e6-b3-95-e4-b8-8epython-e5-ae-9e-e8-b7-b5-e4-b9-8b-ef-bc-88-e4-b8-80-ef-bc-89k-e8-bf-91-e9-82-bb-ef-bc-88knn/" class="next">下一篇</a></div><div class="copyright"><p>© 2013 - 2017 <a href="http://kidozh.com">kido zhang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>