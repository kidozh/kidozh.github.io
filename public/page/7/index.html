<!DOCTYPE html>




<html class="theme-next pisces" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="kidozh的一些想法和随手笔记">
<meta property="og:type" content="website">
<meta property="og:title" content="kidozh">
<meta property="og:url" content="https://kidozh.github.io/page/7/index.html">
<meta property="og:site_name" content="kidozh">
<meta property="og:description" content="kidozh的一些想法和随手笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="kidozh">
<meta name="twitter:description" content="kidozh的一些想法和随手笔记">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":true,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: false,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://kidozh.github.io/page/7/"/>





  <title>kidozh</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">kidozh</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">某不科学的kidozh</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kidozh.github.io/2016/01/21/minecraftminecraft-e5-9c-a8-e8-99-9a-e6-8b-9f-e4-ba-91-e4-b8-8a-e5-bb-ba-e7-ab-99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kido zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kidozh">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/21/minecraftminecraft-e5-9c-a8-e8-99-9a-e6-8b-9f-e4-ba-91-e4-b8-8a-e5-bb-ba-e7-ab-99/" itemprop="url">[MineCraft]Minecraft在虚拟云上建站</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-21T23:58:03+08:00">
                2016-01-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/未分类/" itemprop="url" rel="index">
                    <span itemprop="name">未分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="服务器申请"><a href="#服务器申请" class="headerlink" title="服务器申请"></a>服务器申请</h1><p>首先我们来获得一个服务器，目前国内比较成熟的是<a href="http://www.qcloud.com/" target="_blank" rel="external">腾讯云</a>和<a href="https://www.aliyun.com" target="_blank" rel="external">阿里云</a>，对于学生，他们都有不同的优惠。腾讯的最低配置是1元/月，阿里是10元/月。当然你也可以使用国外的VPS，DigitalOcean和linode，但是国外服务器可能访问缓慢以及结账较为麻烦，所以在这里我们可以使用阿里或者腾讯云。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi1.png" alt=""></p>
<p>配置情况如下：</p>
<ul>
<li>操作系统 CentOS 6.5 64位/Ubuntu 14.04 LTS 64位</li>
<li>CPU 1核</li>
<li>内存 1GB</li>
<li>系统盘 8GB(云硬盘)</li>
<li>数据盘 0GB</li>
<li>公网带宽 1Mbps</li>
</ul>
<p>如果规模是5人的话，这个还是可以很好的运行的，如果你觉得有点延迟的话，升级带宽就可以啦。</p>
<h1 id="配置服务器"><a href="#配置服务器" class="headerlink" title="配置服务器"></a>配置服务器</h1><p>首先，我们最好还是使用Linux服务器，因为会比较稳定，但是需要注意的是操作者最好能懂得一些基本的Shell命令行。</p>
<p>其次，这里我们必须配置服务器信息，你可以使用密码或者公钥来登陆，为了简便起见，这里我使用了密码登陆。</p>
<h1 id="登录服务器"><a href="#登录服务器" class="headerlink" title="登录服务器"></a>登录服务器</h1><p>为了操作我们的服务器，我们需要使用Putty和xftp。</p>
<p>首先，为了使用命令行，在windows下我们可以使用putty，<a href="http://the.earth.li/~sgtatham/putty/latest/x86/putty.exe" target="_blank" rel="external">这里</a>就有下载链接。由于我们还需要上传文件到服务器，我们也需要一个FTP工具，xftp，<a href="http://dx2.xiazaiba.com/Soft/X/Xftp_5.0.680.0_XiaZaiBa.zip" target="_blank" rel="external">这里</a>就有下载地址，我们可以使用个人/家庭版来免费使用这款软件。</p>
<p>会到服务器控制台，待到系统安装完毕之后，打开Putty，填入服务器公网：</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi2.png" alt=""></p>
<p>点击Open登陆，然后再弹出的窗口之中输入用户名root和密码。密码默认在Linux中不显示。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi3.png" alt=""></p>
<p>首先需要更新系统，敲入命令：<code>yum -y update</code></p>
<p>等待包更新完毕后，敲入命令：<code>yum -y upgrade</code></p>
<p>然后就建立了基本服务器配置</p>
<h1 id="建立MC服务器"><a href="#建立MC服务器" class="headerlink" title="建立MC服务器"></a>建立MC服务器</h1><p>首先我们需要安装Java环境。我的办法是本地下载Java的RPM安装包，然后通过xftp的SFTP连接并上传到服务器，然后在服务器端安装，这样速度会比较快一点。</p>
<p>打开Java的下载页面：<a href="http://www.java.com/zh_CN/download/manual.jsp" target="_blank" rel="external">Java Download</a>，然后选择我们的服务器系统对应版本。选择”Linux x64 RPM”.</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi4.png" alt=""></p>
<p>下载完毕后，打开xftp软件，点击新建(New)，然后Host中填入你的公网IP，协议选择SFTP，在下边的登陆信息中填入你的用户名和密码。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi5.png" alt=""></p>
<p>弹出的窗口选择第二个即可：接受并保存（Accept and Save）。在右边的窗口即可显示你的服务器中文件信息了，左边是你的计算机中的文件。</p>
<p>在右边的窗格，路径输入”/usr”，然后右键新建文件夹，名为”java”,左边的窗格中找到下载好的RPM包，点击右键，选择传输（Transfer）即可。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi6.png" alt=""></p>
<p>然后回到Putty，我们需要在服务器中安装Java以及一个工具：Screen。</p>
<p>首先我们在命令行中执行：<code>yum -y install screen</code></p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi7.png" alt=""></p>
<blockquote>
<p>GNU Screen是一款由GNU计划开发的用于命令行终端切换的自由软件。用户可以通过该软件同时连接多个本地或远程的命令行会话，并在其间自由切换。&gt; 常用Screen 命令：</p>
<ul>
<li>· screen -S mc //新建一个叫mc的Screen</li>
<li>· screen -r mc //返回名为mc的Screen</li>
<li>· 键盘按Ctrl + A //退出刚创建的Screen</li>
<li>· screen -ls //显示所有的Screen</li>
<li>· exit //在Screen中使用可以关闭当前Screen会话</li>
</ul>
</blockquote>
<p>更多资料参考：<a href="http://www.cnblogs.com/mchina/archive/2013/01/30/2880680.html" target="_blank" rel="external">linux screen 命令详解</a> By David Camp</p>
<p>安装完后，等到RPM上传成功之后，依次执行下列命令，用于安装Java环境：</p>
<p><code>cd /usr/java</code></p>
<p><code>rpm -ivh jre- //此处按键盘的Tab键即可自动补全，你上传的文件名</code></p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi8.png" alt=""></p>
<p>上述操作执行完毕后，输入以下命令:</p>
<p><code>java -version</code></p>
<p>若提示如下，即说明已经Java环境已安装成功。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi9.png" alt=""></p>
<p>然后我们需要修改Java的配置文件及环境变量，首先查看我们的Java文件夹的名字，在Putty中依次输入如下命令：</p>
<p>·<code>cd /usr/java</code>·</p>
<p><code>ls –al</code></p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi10.png" alt=""></p>
<p>如图，我的文件夹名为：jre1.8.0_71，复制一下这个名字。</p>
<p>接下来依次执行下列命令（一次一行）：</p>
<p><code>echo &#39;export JAVA_HOME=/usr/java/jre1.8.0_71&#39; &gt;&gt; /etc/profile</code></p>
<p>这句中的jre1.8.0_1即为刚才的名字。</p>
<p><code>echo &#39;export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar&#39;&gt;&gt; /etc/profile</code></p>
<p><code>echo &#39;export PATH=$PATH:$JAVA_HOME/bin&#39; &gt;&gt; /etc/profile</code></p>
<p>OK，至此Java环境已配置完毕。</p>
<h1 id="下载MC服务器"><a href="#下载MC服务器" class="headerlink" title="下载MC服务器"></a>下载MC服务器</h1><p>这一步我简化了，我直接去MCBBS上下了一个简化版(主要是懒得配置MOD之间的关系了)，把文件上传即可。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi11.png" alt=""></p>
<p>这里实际上我上传的地方是/home/mcServer</p>
<h1 id="设置服务器端的文件"><a href="#设置服务器端的文件" class="headerlink" title="设置服务器端的文件"></a>设置服务器端的文件</h1><p>首先着上传的时间安装Screen。</p>
<p>趁首先创建个新的Screen，命名为mc，用于启动管理MC服务器：</p>
<p><code>screen -S mc</code></p>
<p>然后切换到mcserver目录：</p>
<p><code>cd /home/mcServer</code></p>
<p>解压zip文件到本目录：</p>
<p><code>unzip mcserver.zip</code></p>
<p>建立启动脚本文件：</p>
<p><code>vim start.sh</code></p>
<p>新建start.sh文件，弹出编辑器窗口，粘贴内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#!/bin/sh </div><div class="line">java -Xmx768M -Xms512M -jar /home/mcserver/minecraft_server.1.7.10.jar</div></pre></td></tr></table></figure>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi12.png" alt=""></p>
<p>其中的minecraft_server.1.7.10.jar为你的服务器文件，即当前目录下你上传的server.jar文件名。</p>
<p>执行命令，赋予脚本执行权限。</p>
<p><code>chmod 777 start.sh</code></p>
<h1 id="启动MC服务器"><a href="#启动MC服务器" class="headerlink" title="启动MC服务器"></a>启动MC服务器</h1><p>首先还是要配置server.properties，这一点按照<a href="http://minecraft-zh.gamepedia.com/Server.properties" target="_blank" rel="external">mc wiki properties</a>上配置就可以了</p>
<p>Done~!</p>
<p>搭建完成，用下载好的MC1.7.10的客户端连接测试一下~</p>
<p>直接连接服务器，输入自己服务器的IP地址即可.</p>
<p>下次我们使用Putty连接服务器时，只要使用命令：</p>
<p><code>screen -r mc</code>即可回到我们的MC服务器状态啦~</p>
<h1 id="域名服务"><a href="#域名服务" class="headerlink" title="域名服务"></a>域名服务</h1><p>这点和我们之前的架设博客很相似，当我们想隐藏我们的ip的时候就可以用这个了</p>
<p>只要通过A记录解析就可以了</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi13.png" alt=""></p>
<p>参考来源：<a href="http://sintonblog.win/mc-build-2/" target="_blank" rel="external">http://sintonblog.win/mc-build-2/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kidozh.github.io/2016/01/13/django-e7-bc-96-e5-86-99-e7-ac-ac-e4-b8-80-e4-b8-aadjango-e7-a8-8b-e5-ba-8f/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kido zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kidozh">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/13/django-e7-bc-96-e5-86-99-e7-ac-ac-e4-b8-80-e4-b8-aadjango-e7-a8-8b-e5-ba-8f/" itemprop="url">[Django]编写第一个Django程序</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-13T15:57:24+08:00">
                2016-01-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/网页/" itemprop="url" rel="index">
                    <span itemprop="name">网页</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-前言"><a href="#1-前言" class="headerlink" title="1 前言"></a>1 前言</h1><p>那么就从实例出发，开始编写我们的第一个Django程序。</p>
<p>这个Django程序主要由两部分组成：</p>
<ul>
<li>一个公开的站点供人们投票以及观察投票结果</li>
<li>一个管理员站点能够自由的增加、删减或者改变投票的结果</li>
</ul>
<p>注意了，由于本文参考的来自Django 1.8文档，所以其他版本的可能存在较大的偏差，需要谨慎看待。查看Django版本的办法：<code>$ python -c &quot;import django; print(django.get_version())&quot;</code>。同样的，Python版本也是2.7的，故对于Python3.x系列可能需要按照文本做出轻微的调整</p>
<h1 id="2-创建一个工程"><a href="#2-创建一个工程" class="headerlink" title="2 创建一个工程"></a>2 创建一个工程</h1><p>首先打开Shell命令行，进入一个需要创建Django工程的文件夹，使用以下命令：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ django-admin startproject mysite</div></pre></td></tr></table></figure></p>
<p> 这样在正常安装的情况下就能够创建一个名为mysite的工程。</p>
<p><em>需要注意的是，该工程不能和现有的Django以及测试工程重名，比如django或者test。而对于Django文件夹所在的位置，一般最好不要和网络服务器文件夹的根目录重合，因为这样有可能导致代码泄露。例如在Linux系统下就是<code>/var/www/</code>而在Windows下，就有比如<code>htdocs</code>这样的网关文件夹。</em></p>
<p>Django命令创建的文件目录树如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysite/</div><div class="line">    manage.py</div><div class="line">    mysite/</div><div class="line">        __init__.py</div><div class="line">        settings.py</div><div class="line">        urls.py</div><div class="line">        wsgi.py</div></pre></td></tr></table></figure></p>
<p> 这些文件的功能有以下关系：</p>
<ul>
<li>根目录mysite只是一个承载Django工程的文件夹，这个名字对于Django来说并不重要，你可以任意对其重命名</li>
<li>manage.py主要用于与Django工程发生交互，在<a href="https://docs.djangoproject.com/en/1.8/ref/django-admin/" target="_blank" rel="external">这里</a>也能看到Django和admin之间的关系</li>
<li>在mysite工程内的文件夹的mysite，其命名空间就是需要引入的python的包，比如mysite.urls</li>
<li>mysite/<strong>init</strong>.py:告诉Python解释器这是一个Python的一个库</li>
<li>mysite/setting.py：配置Django的各种选项</li>
<li>mysite/urls.py：对于URL的一个声明</li>
<li>mysite/wsgi.py：一个为WSGI兼容的网络服务器提供的一个入口</li>
</ul>
<h1 id="3-设定选项"><a href="#3-设定选项" class="headerlink" title="3 设定选项"></a>3 设定选项</h1><p>打开setting.py，这是一个正常的Python模块显示Django的设定项。</p>
<p>对于只想调试的人，SQLite这种轻量级的数据库是非常优秀的，你不需要安装任何东西就能使用了。但是在实际应用之中，更为稳定的PostgreSQL，也是非常合适的。</p>
<p>如果需要安装其他的数据库的话，首先需要安装数据库的一个链接，然后修改DATABASES中的default去设定数据库连接。</p>
<ul>
<li>ENGINE：对于数据库连接后台，在上篇文章里就介绍了：’django.db.backends.sqlite3’, ‘django.db.backends.postgresql_psycopg2’, ‘django.db.backends.mysql’,和’django.db.backends.oracle’都是可以得，其他数据库需要点击<a href="https://docs.djangoproject.com/en/1.8/ref/databases/#third-party-notes" target="_blank" rel="external">这里</a></li>
<li>NAME：数据库的名称，当时用SQLite的时候是安装到里面的文件，这个时候NAME就必须使用绝对路径来指明地点，默认值是 <code>os.path.join(BASE_DIR, &#39;db.sqlite3&#39;)</code>，将会当必要的时候SQLite就会存储在工程文件夹里。</li>
<li>当不使用SQLite的时候，账号（USER），密码（PASSWORD），端口（HOST）必须被添加，同时也必须创建一个数据库，可以使用CREATE DATABASE database_name;来创建一个数据库</li>
</ul>
<p>当设定setting.py的时候，也需要设定时区<code>TIME_ZONE</code>到目前计算机的时区。同时需要注意的是<code>INSTALLED_APP</code>指示了Django中所有活动的实例，应用可以在多个库中或者其他文件中进行调用。</p>
<p>同时也介绍一下其他的默认的应用：</p>
<ul>
<li>django.contrib.admin – 管理员站点</li>
<li>django.contrib.auth – 认证系统</li>
<li>django.contrib.contenttypes – 目录类型的一个框架</li>
<li>django.contrib.sessions – 回话控制</li>
<li>django.contrib.messages – 信息框架</li>
<li>django.contrib.staticfiles –静态文件管理框架</li>
</ul>
<p>由于这些应用都会创建数据库，所以需要使用以下命令来自动创建数据库：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python manage.py migrate</div></pre></td></tr></table></figure></p>
<p> migrate命令会按照setting.py中的设定创建一些必要的数据库，你可以键入 \dt (PostgreSQL) ,</p>
<p>SHOW TABLES;(MySQL), .schema  (SQLite), 或者SELECT TABLE_NAME FROM USER_TABLES;(Oracle)来显示Django所创建的表。</p>
<h1 id="4-服务器开发"><a href="#4-服务器开发" class="headerlink" title="4 服务器开发"></a>4 服务器开发</h1><p>cd到外层的mysite文件夹（工程文件根目录），就可以$ python manage.py runserver 使用来启动django的服务器了。</p>
<p>在命令行里面就会输出信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Performing system checks...</div><div class="line"></div><div class="line">0 errors found</div><div class="line">January 12, 2016 - 15:50:53</div><div class="line">Django version 1.8, using settings &apos;mysite.settings&apos;</div><div class="line">Starting development server at http://127.0.0.1:8000/</div><div class="line">Quit the server with CONTROL-C.</div></pre></td></tr></table></figure></p>
<p> 这样就启动了一个纯粹由Python编写的轻量级服务器了，除非是真的需要部署到生产环境之中，否则我们在不使用Apache的情况下是可以直接调试我们的Django程序的。在生产环境之中还是乖乖使用Apache服务器吧，否则带不起来的。</p>
<p>注意到输出信息里已经给出了网址<a href="http://127.0.0.1:8000/，我们只要访问就可以看到我们的Django网页了，在没有部署任何应用的情况下，你应该会看到一个淡蓝色的欢迎页，这样就调试成功了。" target="_blank" rel="external">http://127.0.0.1:8000/，我们只要访问就可以看到我们的Django网页了，在没有部署任何应用的情况下，你应该会看到一个淡蓝色的欢迎页，这样就调试成功了。</a></p>
<p>如果你需要改变端口号的话，还是通过命令后加一个端口的参数$ python manage.py runserver 8080 来实现，这样就能开启8080，如果你同样需要改变IPv4的IP地址的话，也是同样的道理，补全即可。$ python manage.py runserver 0.0.0.0:8000 ，更为详尽的改变的办法请参考官方文档：<a href="https://docs.djangoproject.com/en/1.8/ref/django-admin/#django-admin-runserver" target="_blank" rel="external">https://docs.djangoproject.com/en/1.8/ref/django-admin/#django-admin-runserver</a></p>
<h1 id="5-创建模型"><a href="#5-创建模型" class="headerlink" title="5 创建模型"></a>5 创建模型</h1><p>每个Django之中的应用是由多个python库组成的，而且可以保存在任何一个地方，但是保存在工程文件下在引用的时候是非常优雅的，当然，你可以使用命令$ python manage.py startapp polls 来创建一个新的应用。</p>
<p>这样他的文件的布局就是这样了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">polls/</div><div class="line">    __init__.py</div><div class="line">    admin.py</div><div class="line">    migrations/</div><div class="line">        __init__.py</div><div class="line">    models.py</div><div class="line">    tests.py</div><div class="line">    views.py</div></pre></td></tr></table></figure></p>
<p> 在开始一个带有数据库的Django应用的第一步就是创建模型（主要是数据布局和元数据构成）。一个好的模型应该是唯一且精准的数据来源，其必须包含数据形式和操作行为。</p>
<p>在我们的这个应用之中，我们会创建两个模型：问题和选择。问题模型包含问题和一个时间。而选择模型包含选择内容和一个单位，每个选择都和一个问题相关联。</p>
<p>所以在polls/models.py中应该这样写模型：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Question</span><span class="params">(models.Model)</span>:</span></div><div class="line">    question_text = models.CharField(max_length=<span class="number">200</span>)</div><div class="line">    pub_date = models.DateTimeField(<span class="string">'date published'</span>)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Choice</span><span class="params">(models.Model)</span>:</span></div><div class="line">    question = models.ForeignKey(Question)</div><div class="line">    choice_text = models.CharField(max_length=<span class="number">200</span>)</div><div class="line">    votes = models.IntegerField(default=<span class="number">0</span>)</div></pre></td></tr></table></figure></p>
<p> 每个模型都是由django.db.models.Model这个子类所代表，每个模型都有一系列的变量，其代表着模型中所对应的数据库的字段。</p>
<p>每个字段都由Django中的一个实例组成，比如CharField是针对字符串类型的，而DateTimeField是针对日期时间类型，而每一个字段的名字就是他们在数据库之中的名字，在Python之中其作为变量名，而在数据库之中其又作为字段名。</p>
<p>而一些字段名是需要特定的参数的，比如CharField就需要最大字符数。这个参数不仅被用于数据库中的语法，而且也能被用于验证模块之中。当然，字段也具有各种各样的参数，例如我们就设定了votes的默认值是0.</p>
<p>最后，对于关系型数据库，当时用ForeignKey的时候，这也意味这关系被确立，即一种选择对应一个问题，Django支持所有的常用的数据库关系：多对一，多对多和一对一。</p>
<h1 id="6-激活模型"><a href="#6-激活模型" class="headerlink" title="6 激活模型"></a>6 激活模型</h1><p>使用很少的代码就能让Django具备以下的特性：</p>
<ul>
<li>为应用创建一个表</li>
<li>为应用创建一个Python的数据库应用接口来获取数据</li>
</ul>
<p>继续编辑setting.py文件夹，在INSTALLED_APP中加入polls，所以会变成这样：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">INSTALLED_APPS = (</div><div class="line">    <span class="string">'django.contrib.admin'</span>,</div><div class="line">    <span class="string">'django.contrib.auth'</span>,</div><div class="line">    <span class="string">'django.contrib.contenttypes'</span>,</div><div class="line">    <span class="string">'django.contrib.sessions'</span>,</div><div class="line">    <span class="string">'django.contrib.messages'</span>,</div><div class="line">    <span class="string">'django.contrib.staticfiles'</span>,</div><div class="line">    <span class="string">'polls'</span>,</div><div class="line">)</div></pre></td></tr></table></figure></p>
<p> 这样Django就加入polls到应用之中了，所以在使用migrate命令的时候，Django就会为其创建对应的表了。<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python manage.py makemigrations polls</div></pre></td></tr></table></figure></p>
<p> 那么输出信息中就可以看到有关这次表新建的内容了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Migrations for &apos;polls&apos;:</div><div class="line">  0001_initial.py:</div><div class="line">    - Create model Question</div><div class="line">    - Create model Choice</div><div class="line">    - Add field question to choice</div></pre></td></tr></table></figure></p>
<p> 通过makemigrations就可以让Django检测模型的改变并且这些改变就能被作为一个migrate储存了。</p>
<p>迁徙（migration）就是Django如何去变更你的模型的在硬盘上的文件。当你创建一个新的模型的时候，你可以随心所欲的观察迁徙，他们会被储存在比如polls/migrations/0001_initial.py这样的文件之中，但是我们也不必每次都花费时间去观察。</p>
<p>当然了，migrate这个命令是更常见的被用于自动更新数据库的命令了，但是也许我们还是先看一下migrate的原理吧。使用 <tt class="xref std std-djadmin docutils literal" style="color: #0c4b33; -webkit-tap-highlight-color: transparent; border-bottom-width: 1px; border-bottom-style: dotted; border-color: #971414; font-family: 'Fira Mono', Consolas, Menlo, Monaco, 'Courier New', Courier, monospace; font-size: 1em; line-height: 21px; font-variant-ligatures: no-common-ligatures; text-rendering: optimizeSpeed; font-weight: bold; background-color: #ffffff;"><a href="https://docs.djangoproject.com/en/1.8/ref/django-admin/#django-admin-sqlmigrate" target="_blank" rel="external">sqlmigrate</a></tt>命令就能执行迁徙这个操作并且返回执行的SQL语句。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">BEGIN;</div><div class="line">CREATE TABLE &quot;polls_choice&quot; (</div><div class="line">    &quot;id&quot; serial NOT NULL PRIMARY KEY,</div><div class="line">    &quot;choice_text&quot; varchar(200) NOT NULL,</div><div class="line">    &quot;votes&quot; integer NOT NULL</div><div class="line">);</div><div class="line">CREATE TABLE &quot;polls_question&quot; (</div><div class="line">    &quot;id&quot; serial NOT NULL PRIMARY KEY,</div><div class="line">    &quot;question_text&quot; varchar(200) NOT NULL,</div><div class="line">    &quot;pub_date&quot; timestamp with time zone NOT NULL</div><div class="line">);</div><div class="line">ALTER TABLE &quot;polls_choice&quot; ADD COLUMN &quot;question_id&quot; integer NOT NULL;</div><div class="line">ALTER TABLE &quot;polls_choice&quot; ALTER COLUMN &quot;question_id&quot; DROP DEFAULT;</div><div class="line">CREATE INDEX &quot;polls_choice_7aa0f6ee&quot; ON &quot;polls_choice&quot; (&quot;question_id&quot;);</div><div class="line">ALTER TABLE &quot;polls_choice&quot;</div><div class="line">  ADD CONSTRAINT &quot;polls_choice_question_id_246c99a640fbbd72_fk_polls_question_id&quot;</div><div class="line">    FOREIGN KEY (&quot;question_id&quot;)</div><div class="line">    REFERENCES &quot;polls_question&quot; (&quot;id&quot;)</div><div class="line">    DEFERRABLE INITIALLY DEFERRED;</div><div class="line"></div><div class="line">COMMIT;</div></pre></td></tr></table></figure></p>
<p> 但是我必须在这里说明一些事情：</p>
<ul>
<li>输出的格式由你所选择的数据库所决定，上面的就是PostgreSQL生成的</li>
<li>表格的名字是由应用的名字和模型中类的名字的全小写采用下划线生成</li>
<li>主键会被自动添加</li>
<li>外围的键会精确地由FOREIGN KEY约束所确立，而对于 <tt class="docutils literal" style="font-family: 'Fira Mono', Consolas, Menlo, Monaco, 'Courier New', Courier, monospace; font-variant-ligatures: no-common-ligatures; text-rendering: optimizeSpeed; color: #0c4b33; font-size: 14px; font-weight: bold; line-height: 21px;">DEFERRABLE</tt>，不必在意，其只是告诉PostgreSQL在事物之后才执行执行外围键这个操作</li>
<li>通常为了简洁起见，Django会在外围键添加_id的后缀</li>
<li>对于不同的数据库特殊类型我们应该为其量身定做类型，比如SQL中常见的自增auto_increment，PostgreSQL中的serial和SQLite之中的integer primary key autoincrement</li>
<li><a href="https://docs.djangoproject.com/en/1.8/ref/django-admin/#django-admin-sqlmigrate" target="_blank" rel="external"><tt class="xref std std-djadmin docutils literal" style="font-family: 'Fira Mono', Consolas, Menlo, Monaco, 'Courier New', Courier, monospace; font-variant-ligatures: no-common-ligatures; text-rendering: optimizeSpeed; color: #0c4b33; font-size: 1em; font-weight: bold;">sqlmigrate</tt></a> 并不会真正的去运行这个迁徙，他只是会把命令显示到屏幕之上去检查SQL语句</li>
</ul>
<p>使用  <tt class="xref std std-djadmin docutils literal" style="color: #1d915c; -webkit-tap-highlight-color: transparent; outline: 0px; border-bottom-width: 1px; border-bottom-style: dotted; border-color: #971414; font-family: 'Fira Mono', Consolas, Menlo, Monaco, 'Courier New', Courier, monospace; font-size: 1em; line-height: 21px; font-variant-ligatures: no-common-ligatures; text-rendering: optimizeSpeed; font-weight: bold; background-color: #f1fff7;"><a href="https://docs.djangoproject.com/en/1.8/ref/django-admin/#django-admin-check" target="_blank" rel="external">python manage.py check</a></tt> 可以在不改变数据库结构的情况下检查工程中的SQL问题。</p>
<p>接下来，运行migrate就可以创建模型表了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$ python manage.py migrate</div><div class="line">Operations to perform:</div><div class="line">  Synchronize unmigrated apps: staticfiles, messages</div><div class="line">  Apply all migrations: admin, contenttypes, polls, auth, sessions</div><div class="line">Synchronizing apps without migrations:</div><div class="line">  Creating tables...</div><div class="line">    Running deferred SQL...</div><div class="line">  Installing custom SQL...</div><div class="line">Running migrations:</div><div class="line">  Rendering model states... DONE</div><div class="line">  Applying &lt;migration name&gt;... OK</div></pre></td></tr></table></figure></p>
<p> migrate命令会执行对未应用的模型所有的迁徙操作。migrate是一种非常强大的工具，它能够在升级模型数据库的情况下不丢失对应的数据，这里我们给出了修改模型的三步：</p>
<ol>
<li>在models.py文件夹之中修改模型</li>
<li>运行 <a href="https://docs.djangoproject.com/en/1.8/ref/django-admin/#django-admin-makemigrations" target="_blank" rel="external"><tt class="xref std std-djadmin docutils literal" style="font-family: 'Fira Mono', Consolas, Menlo, Monaco, 'Courier New', Courier, monospace; font-variant-ligatures: no-common-ligatures; text-rendering: optimizeSpeed; color: #1d915c; font-size: 1em; font-weight: bold;">python manage.py makemigrations</tt></a>  来执行改变的迁徙行为</li>
<li>运行 <a href="https://docs.djangoproject.com/en/1.8/ref/django-admin/#django-admin-migrate" target="_blank" rel="external"><tt class="xref std std-djadmin docutils literal" style="font-family: 'Fira Mono', Consolas, Menlo, Monaco, 'Courier New', Courier, monospace; font-variant-ligatures: no-common-ligatures; text-rendering: optimizeSpeed; color: #1d915c; font-size: 1em; font-weight: bold;">python manage.py migrate</tt></a>  来执行迁徙在数据库中的操作</li>
</ol>
<p>在<a href="https://docs.djangoproject.com/en/1.8/ref/django-admin/" target="_blank" rel="external">这里</a>就能看到所有的manage.py能够做到的事情。</p>
<h1 id="7-使用API"><a href="#7-使用API" class="headerlink" title="7 使用API"></a>7 使用API</h1><p>接着我们就开始使用Django提供的API来了，可以使用这个命令来激活Django的命令行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python manage.py shell</div></pre></td></tr></table></figure></p>
<p>在这里我们并没有使用python，这是因为manage.py定义了DJANO_SETTING_MODULE环境变量，这样也能把mysite/setting.py引入自己的工程之中。</p>
<p>如果你就是不想使用manage.py的话，你可以设置DJANO_SETTING_MODULE环境变量到mysite/setting.py，在mysite文件夹下启动Shell命令行，输入以下命令：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> django</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>django.setup()</div></pre></td></tr></table></figure></p>
<p>如果引发了一个 <a href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.5)" target="_blank" rel="external"><tt class="xref py py-exc docutils literal" style="font-family: 'Fira Mono', Consolas, Menlo, Monaco, 'Courier New', Courier, monospace; font-variant-ligatures: no-common-ligatures; text-rendering: optimizeSpeed; color: #0c4b33; font-size: 1em; font-weight: bold;">AttributeError</tt></a>的异常的话，那么就说明你安装的Django版本并非是1.8。</p>
<p>如果你想参考更多的函数的话，<a href="https://docs.djangoproject.com/en/1.8/topics/db/queries/" target="_blank" rel="external">这里</a>也有API的详情。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> polls.models <span class="keyword">import</span> Question, Choice   <span class="comment"># Import the model classes we just wrote.</span></div><div class="line"></div><div class="line"><span class="comment"># No questions are in the system yet.</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>Question.objects.all()</div><div class="line">[]</div><div class="line"></div><div class="line"><span class="comment"># Create a new Question.</span></div><div class="line"><span class="comment"># Support for time zones is enabled in the default settings file, so</span></div><div class="line"><span class="comment"># Django expects a datetime with tzinfo for pub_date. Use timezone.now()</span></div><div class="line"><span class="comment"># instead of datetime.datetime.now() and it will do the right thing.</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> django.utils <span class="keyword">import</span> timezone</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>q = Question(question_text=<span class="string">"What's new?"</span>, pub_date=timezone.now())</div><div class="line"></div><div class="line"><span class="comment"># Save the object into the database. You have to call save() explicitly.</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>q.save()</div><div class="line"></div><div class="line"><span class="comment"># Now it has an ID. Note that this might say "1L" instead of "1", depending</span></div><div class="line"><span class="comment"># on which database you're using. That's no biggie; it just means your</span></div><div class="line"><span class="comment"># database backend prefers to return integers as Python long integer</span></div><div class="line"><span class="comment"># objects.</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>q.id</div><div class="line"><span class="number">1</span></div><div class="line"></div><div class="line"><span class="comment"># Access model field values via Python attributes.</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>q.question_text</div><div class="line"><span class="string">"What's new?"</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>q.pub_date</div><div class="line">datetime.datetime(<span class="number">2012</span>, <span class="number">2</span>, <span class="number">26</span>, <span class="number">13</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">775217</span>, tzinfo=&lt;UTC&gt;)</div><div class="line"></div><div class="line"><span class="comment"># Change values by changing the attributes, then calling save().</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>q.question_text = <span class="string">"What's up?"</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>q.save()</div><div class="line"></div><div class="line"><span class="comment"># objects.all() displays all the questions in the database.</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>Question.objects.all()</div><div class="line">[&lt;Question: Question object&gt;]</div></pre></td></tr></table></figure></p>
<p> 需要指出的是<question: question="" object=""> 是一种在表达上非常没有意义的表示形式，你可以在models采用 <strong>str</strong>()  这个函数来指明此时输出的格式<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Question</span><span class="params">(models.Model)</span>:</span></div><div class="line">    <span class="comment"># ...</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span>              <span class="comment"># __unicode__ on Python 2</span></div><div class="line">        <span class="keyword">return</span> self.question_text</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Choice</span><span class="params">(models.Model)</span>:</span></div><div class="line">    <span class="comment"># ...</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span>              <span class="comment"># __unicode__ on Python 2</span></div><div class="line">        <span class="keyword">return</span> self.choice_text</div></pre></td></tr></table></figure></question:></p>
<p> 增加这个函数是非常必要的，因为这不仅可以方便你以后检查代码，同时在Django的后台中得到很好的显示。</p>
<p><em>对于Python3，使用<strong>str</strong> 即可，在Python 2 之中，你必须定义<strong>unicode</strong> 来返回一个unicode的代码，Django的<strong>str</strong> 会自动去调用<strong>unicode</strong> 这个函数。也就是说<strong>unicode</strong> 会返回一个unicode的字符串，而<strong>str</strong> 则会返回一个由UTF-8编码而成的字节码,但是Python 2 中object中的<strong>unicode</strong> 会调用<strong>str</strong> 来返回一个ASCII码的字符串，如果你觉得这很蛋疼的话，用Python 3就好。</em></p>
<p>当然这只是一种很平淡的用法，而有的时候我们需要自定义用法来满足我们的需求：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> datetime</div><div class="line"></div><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"><span class="keyword">from</span> django.utils <span class="keyword">import</span> timezone</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Question</span><span class="params">(models.Model)</span>:</span></div><div class="line">    <span class="comment"># ...</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">was_published_recently</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.pub_date &gt;= timezone.now() - datetime.timedelta(days=<span class="number">1</span>)</div></pre></td></tr></table></figure></p>
<p> 这里datetime的timezone和django.untils.timezone之间具有很大的差异，需要特别注意。<a href="https://docs.djangoproject.com/en/1.8/topics/i18n/timezones/" target="_blank" rel="external">这里</a>有相关的文档。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; from polls.models import Question, Choice</div><div class="line"></div><div class="line"># Make sure our __str__() addition worked.</div><div class="line">&gt;&gt;&gt; Question.objects.all()</div><div class="line">[&lt;Question: What&apos;s up?&gt;]</div><div class="line"></div><div class="line"># Django provides a rich database lookup API that&apos;s entirely driven by</div><div class="line"># keyword arguments.</div><div class="line">&gt;&gt;&gt; Question.objects.filter(id=1)</div><div class="line">[&lt;Question: What&apos;s up?&gt;]</div><div class="line">&gt;&gt;&gt; Question.objects.filter(question_text__startswith=&apos;What&apos;)</div><div class="line">[&lt;Question: What&apos;s up?&gt;]</div><div class="line"></div><div class="line"># Get the question that was published this year.</div><div class="line">&gt;&gt;&gt; from django.utils import timezone</div><div class="line">&gt;&gt;&gt; current_year = timezone.now().year</div><div class="line">&gt;&gt;&gt; Question.objects.get(pub_date__year=current_year)</div><div class="line">&lt;Question: What&apos;s up?&gt;</div><div class="line"></div><div class="line"># Request an ID that doesn&apos;t exist, this will raise an exception.</div><div class="line">&gt;&gt;&gt; Question.objects.get(id=2)</div><div class="line">Traceback (most recent call last):</div><div class="line">    ...</div><div class="line">DoesNotExist: Question matching query does not exist.</div><div class="line"></div><div class="line"># Lookup by a primary key is the most common case, so Django provides a</div><div class="line"># shortcut for primary-key exact lookups.</div><div class="line"># The following is identical to Question.objects.get(id=1).</div><div class="line">&gt;&gt;&gt; Question.objects.get(pk=1)</div><div class="line">&lt;Question: What&apos;s up?&gt;</div><div class="line"></div><div class="line"># Make sure our custom method worked.</div><div class="line">&gt;&gt;&gt; q = Question.objects.get(pk=1)</div><div class="line">&gt;&gt;&gt; q.was_published_recently()</div><div class="line">True</div><div class="line"></div><div class="line"># Give the Question a couple of Choices. The create call constructs a new</div><div class="line"># Choice object, does the INSERT statement, adds the choice to the set</div><div class="line"># of available choices and returns the new Choice object. Django creates</div><div class="line"># a set to hold the &quot;other side&quot; of a ForeignKey relation</div><div class="line"># (e.g. a question&apos;s choice) which can be accessed via the API.</div><div class="line">&gt;&gt;&gt; q = Question.objects.get(pk=1)</div><div class="line"></div><div class="line"># Display any choices from the related object set -- none so far.</div><div class="line">&gt;&gt;&gt; q.choice_set.all()</div><div class="line">[]</div><div class="line"></div><div class="line"># Create three choices.</div><div class="line">&gt;&gt;&gt; q.choice_set.create(choice_text=&apos;Not much&apos;, votes=0)</div><div class="line">&lt;Choice: Not much&gt;</div><div class="line">&gt;&gt;&gt; q.choice_set.create(choice_text=&apos;The sky&apos;, votes=0)</div><div class="line">&lt;Choice: The sky&gt;</div><div class="line">&gt;&gt;&gt; c = q.choice_set.create(choice_text=&apos;Just hacking again&apos;, votes=0)</div><div class="line"></div><div class="line"># Choice objects have API access to their related Question objects.</div><div class="line">&gt;&gt;&gt; c.question</div><div class="line">&lt;Question: What&apos;s up?&gt;</div><div class="line"></div><div class="line"># And vice versa: Question objects get access to Choice objects.</div><div class="line">&gt;&gt;&gt; q.choice_set.all()</div><div class="line">[&lt;Choice: Not much&gt;, &lt;Choice: The sky&gt;, &lt;Choice: Just hacking again&gt;]</div><div class="line">&gt;&gt;&gt; q.choice_set.count()</div><div class="line">3</div><div class="line"></div><div class="line"># The API automatically follows relationships as far as you need.</div><div class="line"># Use double underscores to separate relationships.</div><div class="line"># This works as many levels deep as you want; there&apos;s no limit.</div><div class="line"># Find all Choices for any question whose pub_date is in this year</div><div class="line"># (reusing the &apos;current_year&apos; variable we created above).</div><div class="line">&gt;&gt;&gt; Choice.objects.filter(question__pub_date__year=current_year)</div><div class="line">[&lt;Choice: Not much&gt;, &lt;Choice: The sky&gt;, &lt;Choice: Just hacking again&gt;]</div><div class="line"></div><div class="line"># Let&apos;s delete one of the choices. Use delete() for that.</div><div class="line">&gt;&gt;&gt; c = q.choice_set.filter(choice_text__startswith=&apos;Just hacking&apos;)</div><div class="line">&gt;&gt;&gt; c.delete()</div></pre></td></tr></table></figure></p>
<h1 id="8-后话"><a href="#8-后话" class="headerlink" title="8 后话"></a>8 后话</h1><p>关于模型的关系，你可以点击<a href="https://docs.djangoproject.com/en/1.8/ref/models/relations/" target="_blank" rel="external">这里</a>。</p>
<p>关于数据库API的详尽内容，你可以点击<a href="https://docs.djangoproject.com/en/1.8/topics/db/queries/" target="_blank" rel="external">这里</a>。</p>
<p>下一章我们会介绍，如何使用管理员库来建立自己的网站。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kidozh.github.io/2016/01/13/django-e5-ae-89-e8-a3-85django/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kido zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kidozh">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/13/django-e5-ae-89-e8-a3-85django/" itemprop="url">[Django]安装Django</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-13T01:44:46+08:00">
                2016-01-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/网页/" itemprop="url" rel="index">
                    <span itemprop="name">网页</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-安装Python"><a href="#1-安装Python" class="headerlink" title="1 安装Python"></a>1 安装Python</h1><p>由于Django由Python写成，所以需要首先使用Python。由于Python 2.x和3.x的原因，所以Django对不同版本的Python的兼容性或者适用性存在偏差。</p>
<p>下面是Python和Django的对应关系：</p>
<table style="width: 575px; height: 122px;" border="0" width="469" cellspacing="0" cellpadding="0"><colgroup> <col style="mso-width-source: userset; mso-width-alt: 4096; width: 96pt;" width="128"> <col style="mso-width-source: userset; mso-width-alt: 10912; width: 256pt;" width="341"> </colgroup><tbody><tr style="height: 16.5pt;"><td class="xl63" style="height: 16.5pt; width: 96pt;" width="128" height="22">Django 版本</td><td class="xl63" style="width: 256pt;" width="341">Python版本</td></tr><tr style="height: 16.5pt;"><td class="xl63" style="height: 16.5pt;" align="right" height="22">1.7</td><td class="xl63">2.7 and 3.2, 3.3, 3.4</td></tr><tr style="height: 15.0pt;"><td class="xl64" style="height: 15.0pt;" align="right" height="20">1.8</td><td class="xl64">2.7 and 3.2 (until the end of 2016), 3.3, 3.4, 3.5</td></tr><tr style="height: 16.5pt;"><td class="xl63" style="height: 16.5pt;" align="right" height="22">1.9</td><td class="xl63">2.7, 3.4, 3.5</td></tr></tbody></table>

<p>对于每个版本的Python，只有最近的发行版本才能得到官方支持，在<a href="https://www.python.org/downloads/" target="_blank" rel="external">Python Download Page</a>上可以获得Python的最新版本。Django对于Python的支持将会到Python安全维护的全周期内。比如Python 3.3 的安全支持在2017年9月终止，Django 1.8LTS（长期支持版）的安全检查会在2018年4月终止，因此Django 1.8也是最后一个支持Python 3.3的Django。</p>
<p>在Django 1.6之前，Python 3.x系列被公认为十分稳定的版本，在生产环境中其能够得到信任的。由于更新Python版本提供了更多的特性，所以应该使用更新的Python 2.x和3.x系列。第三方应用能够自由的选择他们的依赖项。</p>
<p>而对于windows操作系统，需要下载MSI installer for windows，完成之后按照窗口导引就能完成安装了。</p>
<p>在安装完成之后，需要检查Python是否存在在环境变量Path之中。首先打开命令行，通过<code>python --version</code>检查环境变量是否被正确的设定了，如果没有，需要保证python的python可执行文件和script文件夹被正确的包含在内。例如，python 2.7安装路径位于C:\python27\，那么C:\python27\和C:\python27\Script\都需要包含在环境变量里</p>
<h2 id="2-安装Apache和mod-wsgi"><a href="#2-安装Apache和mod-wsgi" class="headerlink" title="2 安装Apache和mod_wsgi"></a>2 安装Apache和mod_wsgi</h2><p>由于django自带了一个轻量级的服务器，所以在仅需要测试的时候，是不必要安装Apache服务器的，但是在实际的应用环境（比如接受较大并发的访问的时候）之中的时候，安装Apache和mod_wsgi是十分必要的。</p>
<p>mod_wsgi主要分为两个模式：嵌入式和守护式。在嵌入式之中，mod_wsgi和mod_perl十分相似，其把Python嵌入到Apache之中，当服务器开启的时候，它将会从内存之中加载Python代码，这样使得Python代码存活在Apache服务器运行的全周期之内，这也使得其性能高于其他服务器部署方式。而对于守护式而言，mod_wsgi会创建一个独立的守护进程来处理访客的请求，这样也使得其安全性得到了提升。在需要重新部署代码的时候，不需要重启整个Apache服务器，这样使得代码部署和实际应用之间无缝衔接。具体怎么部署还是需要参考mod_wsgi的文档。</p>
<p>确保Apache服务器被正常开启，mod_wsgi服务得以激活，Django就会运行在任何一个版本的支持mod_wsgi的Apache服务器之上。</p>
<p><a href="https://docs.djangoproject.com/en/1.8/howto/deployment/wsgi/modwsgi/" target="_blank" rel="external">官方FAQ</a>上介绍了如何配置mod_wsgi的方法，鉴于篇幅所限，不在这里介绍了。</p>
<p>当然Django也支持其他的部署方式，例如在nginx上的uWSGI运行Django也非常好。Django遵循着wsgi说明书（即<a href="https://www.python.org/dev/peps/pep-3333/" target="_blank" rel="external">PEP3333</a>，Python的网络服务器网关接口），这样也使得其能够运行在一系列的服务器上。</p>
<h1 id="3-安装数据库"><a href="#3-安装数据库" class="headerlink" title="3 安装数据库"></a>3 安装数据库</h1><p>如果你打算使用数据库来承载内容的话，你必须确保数据库服务正在运行，Django在官方上支持PostgreSQL，MySQL，ORACLE和SQLite。如果你开发的工程较为简单，那么SQLite是足够应付的了，但是由于SQLite还是和其他数据库具有很大的差异，所以在实际环境之中，数据库还是保持统一会比较好。</p>
<p>对于官方版本，需要确保与数据库的链接被正确安装了：</p>
<ul>
<li>PostgreSQL需要使用 <a href="http://initd.org/psycopg/" target="_blank" rel="external">psycopg2</a> 包，在<a href="https://docs.djangoproject.com/en/1.8/ref/databases/#postgresql-notes" target="_blank" rel="external">PostgreSQL notes </a>之中也能得到详尽的帮助</li>
<li>MySQL需要一个数据库API驱动器，比如mysqlclient，在<a href="https://docs.djangoproject.com/en/1.8/ref/databases/#mysql-notes" target="_blank" rel="external">notes for MySQL backend</a>里可以获得详细信息</li>
<li>SQLite可以在<a href="https://docs.djangoproject.com/en/1.8/ref/databases/#sqlite-notes" target="_blank" rel="external">SQLite backend notes</a>里得到帮助</li>
<li>Oracle需要一份cx_Oracle的备份，但是还是需要在<a href="https://docs.djangoproject.com/en/1.8/ref/databases/#oracle-notes" target="_blank" rel="external">notes for the Oracle backend </a>获得对cx_Oracle和Oracle支持版本的信息</li>
</ul>
<p>而对于官方并不支持的数据库，第三方应用也是可以使用的，比如：</p>
<ul>
<li>SAP SQL Anywhere</li>
<li>IBM DB2</li>
<li>Microsoft SQL Server</li>
<li>Firebird</li>
<li>ODBC</li>
</ul>
<p>这些数据库django版本和ORM特征差异较大，对于这些非官方的后台的具体功能以及任何支持查询，应直接使用第三方项目提供支持的渠道获得帮助。</p>
<p>Django的命令<code>manage.py migrate</code>可以自动创建数据库之中的表格，但是需要确保具有访问和修改数据库的权限，如果需要手动进行的话，也需要给予的<code>SELECT, INSERT, UPDATE 和 DELETE</code>权限。当选用Django的测试框架去测试查询Django的时候，需要确保Django有创建test数据库的权限。</p>
<h1 id="4-移除老版本的Django"><a href="#4-移除老版本的Django" class="headerlink" title="4 移除老版本的Django"></a>4 移除老版本的Django</h1><p>当升级Django的版本的时候，首先需要卸载老版本的Django的。</p>
<p>如果你具有easy_install或者pip的话，更新Django的时候会自动执行卸载的过程的。</p>
<p>如果是没有以上两种工具，那么就需要手工在site-packages中删除django库的，可以通过以下命令在<strong>Shell</strong>命令行来取得其地址：<br><figure class="highlight ps"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python -c <span class="string">"import sys; sys.path = sys.path[1:]; import django; print(django.__path__)"</span></div></pre></td></tr></table></figure></p>
<h1 id="5-安装Django代码"><a href="#5-安装Django代码" class="headerlink" title="5 安装Django代码"></a>5 安装Django代码</h1><p>安装Django的方法与你所选择的Django有差异。</p>
<h3 id="pip安装官方发行版："><a href="#pip安装官方发行版：" class="headerlink" title="pip安装官方发行版："></a>pip安装官方发行版：</h3><ol>
<li>安装pip。最简单的办法就是安装<a href="http://www.pip-installer.org/en/latest/installing.html#install-pip" target="_blank" rel="external">独立的pip安装器 </a>，如果你已经安装了pip，需要确保其还能跟得上时代的潮流</li>
<li><a href="http://www.virtualenv.org/" target="_blank" rel="external">virtualenv</a>和<a href="http://virtualenvwrapper.readthedocs.org/en/latest/" target="_blank" rel="external">virtualenvwrapper</a>提供了一个隔离的Python环境，这样也使得不比在系统层面上安装那么多库文件，其也支持在没有管理员权限的情况下安装Django，<a href="https://docs.djangoproject.com/en/1.8/intro/contributing/" target="_blank" rel="external">这里</a>就有如何在Python3上安装Django的方法。</li>
<li>当完成了环境的创建和激活之后，就可以使用<code>pip install Django</code>来在Shell命令行之中安装Django了</li>
</ol>
<h3 id="安装特殊发行版"><a href="#安装特殊发行版" class="headerlink" title="安装特殊发行版"></a>安装特殊发行版</h3><p>在<a href="https://docs.djangoproject.com/en/1.8/misc/distributions/" target="_blank" rel="external">这里</a>检查一下你的系统是否有特殊发行版，通常特殊发行版能够自动安装依赖和更新路径，但是往往极少含有最新的Django</p>
<h3 id="安装开发版本"><a href="#安装开发版本" class="headerlink" title="安装开发版本"></a>安装开发版本</h3><p>安装开发版本就需要关注<a href="https://code.djangoproject.com/timeline" target="_blank" rel="external">开发门径</a>了，你需要注意<a href="https://docs.djangoproject.com/en/1.8/releases/#development-release-notes" target="_blank" rel="external">即将到来的发行版</a>。对于每个稳定版本，任何改变都会在文档中予以标识。</p>
<p>如果你想得到最新的Django代码以求最新的BUG修正和代码优化，需要执行以下几步：</p>
<ol>
<li>确保Git安装完成，并且能够在Shell命令行中调用<code>git help</code></li>
<li>检出Django的一个主要版本，例如使用这个命令：$ git clone git://github.com/django/django.git ，然后再本地目录里就会出现Django文件夹</li>
<li>确保Python能够正确的加载代码，最为稳妥的办法就是使用<a href="http://www.virtualenv.org/" target="_blank" rel="external">virtualenv</a>、<a href="http://virtualenvwrapper.readthedocs.org/en/latest/" target="_blank" rel="external">virtualenvwrapper</a>和<a href="http://www.pip-installer.org/" target="_blank" rel="external">pip</a></li>
<li>当安装并且激活<a href="http://www.virtualenv.org/" target="_blank" rel="external">virtualenv</a>之后需要运行命令：pip install -e Django，这样也会使得django-admin被正确执行</li>
</ol>
<p>当需要获取最新的Django的时候，运行命令git pull 即可，git会自动完成各种更新的。</p>
<h1 id="windows环境下的BUG"><a href="#windows环境下的BUG" class="headerlink" title="windows环境下的BUG"></a>windows环境下的BUG</h1><ul>
<li>如果django-admin只显示帮助文本而不接受参数的话，这样很有可能是文件和Windows的关联出了问题，检查是否有多个script在环境变量之中，这往往是多个版本的Python安装所导致的</li>
<li>在使用代理采用pip或者easy_install安装的时候，需要在命令行之中配置代理，例如：<figure class="highlight ps"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">set http_proxy=http://username:password@proxyserver:proxyport</div><div class="line">set https_proxy=https://username:password@proxyserver:proxyport</div></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kidozh.github.io/2016/01/12/python-e5-b0-86django-e7-9a-84-e6-95-b0-e6-8d-ae-e9-80-9a-e8-bf-87syncdb-e7-ba-bf-e4-b8-8a-e5-88-b0-e6-95-b0-e6-8d-ae-e5-ba-93-e4-b9-8b-e4-b8-ad/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kido zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kidozh">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/12/python-e5-b0-86django-e7-9a-84-e6-95-b0-e6-8d-ae-e9-80-9a-e8-bf-87syncdb-e7-ba-bf-e4-b8-8a-e5-88-b0-e6-95-b0-e6-8d-ae-e5-ba-93-e4-b9-8b-e4-b8-ad/" itemprop="url">[Python]将Django的数据通过syncdb线上到数据库之中</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-12T00:51:39+08:00">
                2016-01-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>本文来自：<a href="http://www.tuicool.com/articles/JRrQvu3" target="_blank" rel="external">http://www.tuicool.com/articles/JRrQvu3</a></p>
</blockquote>
<h1 id="如何syncdb线上到SAE的MySQL数据库中？"><a href="#如何syncdb线上到SAE的MySQL数据库中？" class="headerlink" title="如何syncdb线上到SAE的MySQL数据库中？"></a>如何syncdb线上到SAE的MySQL数据库中？</h1><p>在本地开发环境中，如下配置数据库，即可执行 python manage.py syncdb 直接syncdb到线上数据库。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 线上数据库的配置</span></div><div class="line">MYSQL_HOST = <span class="string">'w.rdc.sae.sina.com.cn'</span></div><div class="line">MYSQL_PORT = <span class="string">'3307'</span></div><div class="line">MYSQL_USER = <span class="string">'ACCESSKEY'</span></div><div class="line">MYSQL_PASS = <span class="string">'SECRETKEY'</span></div><div class="line">MYSQL_DB   = <span class="string">'app_APP_NAME'</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> sae._restful_mysql <span class="keyword">import</span> monkey</div><div class="line">monkey.patch()</div><div class="line"></div><div class="line">DATABASES = &#123;</div><div class="line">  <span class="string">'default'</span>: &#123;</div><div class="line">    <span class="string">'ENGINE'</span>:   <span class="string">'django.db.backends.mysql'</span>,</div><div class="line">    <span class="string">'NAME'</span>:	 MYSQL_DB,</div><div class="line">    <span class="string">'USER'</span>:	 MYSQL_USER,</div><div class="line">    <span class="string">'PASSWORD'</span>: MYSQL_PASS,</div><div class="line">    <span class="string">'HOST'</span>:	 MYSQL_HOST,</div><div class="line">    <span class="string">'PORT'</span>:	 MYSQL_PORT,</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p> 需要注意的是：使用上述方法需要首先安装SAE的Python本地开发环境，Github项目地址：<a href="https://github.com/sinacloud/sae-python-dev-guide" target="_blank" rel="external">https://github.com/sinacloud/sae-python-dev-guide</a></p>
<p>另外，上述功能还比较”buggy”，所以更加稳妥的数据库同步方案为：在本地执行数据库同步，将数据库变更以SQL的形式导出，然后使用SAE提供的phpmyadmin等工具进行导入。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kidozh.github.io/2016/01/09/python-e4-bd-bf-e7-94-a8-e5-9b-bd-e5-86-85-e7-9a-84python-e6-ba-90-e5-8a-a0-e9-80-9fpip/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kido zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kidozh">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/09/python-e4-bd-bf-e7-94-a8-e5-9b-bd-e5-86-85-e7-9a-84python-e6-ba-90-e5-8a-a0-e9-80-9fpip/" itemprop="url">[Python]使用国内的Python源加速pip</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-09T17:53:01+08:00">
                2016-01-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Python下用的最多的包安装工具就是easy_install和pip，但是他们都是从Python官方的Pypi源上寻找并下载资源，由于国内网络原因，有时候连接和速度就不是那么理想，跟淘宝的RubyGems镜像源一样，于是便有了国内的PyPi镜像源，如今天说的豆瓣PyPi镜像。</p>
<p>豆瓣PyPi镜像：<a href="http://pypi.douban.com/simple/" target="_blank" rel="external">http://pypi.douban.com/simple/</a></p>
<p>使用方法：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo easy_install -i http://pypi.douban.com/simple/ flask </div><div class="line">sudo pip install -i http://pypi.douban.com/simple/ flask</div></pre></td></tr></table></figure></p>
<p> 要配制成默认的话，需要创建或修改配置文件（linux的文件在~/.pip/pip.conf，windows在%HOMEPATH%\pip\pip.ini），修改内容为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[global]</div><div class="line">index-url = http://pypi.douban.com/simple</div></pre></td></tr></table></figure></p>
<p> 然后用pip的时候自动就会用此镜像源了</p>
<p>另附上一个阿里云的PyPi源：<a href="http://mirrors.aliyun.com/pypi/simple/" target="_blank" rel="external">http://mirrors.aliyun.com/pypi/simple/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kidozh.github.io/2016/01/04/godaddy-e5-9f-9f-e5-90-8d-e7-bb-ad-e8-b4-b9-e7-9a-84-e4-bc-98-e6-83-a0-e6-96-b9-e6-b3-95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kido zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kidozh">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/04/godaddy-e5-9f-9f-e5-90-8d-e7-bb-ad-e8-b4-b9-e7-9a-84-e4-bc-98-e6-83-a0-e6-96-b9-e6-b3-95/" itemprop="url">[Godaddy]域名续费的优惠方法</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-04T00:20:11+08:00">
                2016-01-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">杂谈</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂谈/网页/" itemprop="url" rel="index">
                    <span itemprop="name">网页</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>近一年以来，GoDaddy逐渐取消了各种域名续费优惠码，15美元左右的续费价格还是让大家比较难以接受，最近经过测试，现在有一个新的续费优惠法，续费COM域名的价格大约在69元左右，比起15美元的续费原价还是便宜了一些，适合觉得转出麻烦或者域名不多不愿意加入Discount Domain Club的朋友。</p>
<p>1、首先将要续费的域名加入到购物车，这里我们看到续费的原价是15.17美元，折合成人民币就是97元</p>
<p><img src="/wp-content/uploads/2016/01/010316_1619_Godaddy1.png" alt=""></p>
<p>godaddy优惠码</p>
<p>2、现在我们选择左上角的货币选项，选择INR RS，也就是印度卢比</p>
<p><img src="/wp-content/uploads/2016/01/010316_1619_Godaddy2.png" alt=""></p>
<p>3、选择好以后购物车会自动更新，现在的价格是711卢比了，按照目前的汇率折合成人民币是69元，比原价便宜了28元。然后点击”Proceed to Checkout”进入结算界面。</p>
<p><img src="/wp-content/uploads/2016/01/010316_1619_Godaddy3.png" alt=""></p>
<p>4、这里的付款方式很多，但是不支持支付宝，所以适合我们的方式就只有信用卡或者银联卡，这里以银联卡为例，点击”Place Your Order”付款界面</p>
<p><img src="/wp-content/uploads/2016/01/010316_1619_Godaddy4.png" alt=""></p>
<p>5、根据提示使用你的银联卡付款即可</p>
<p><img src="/wp-content/uploads/2016/01/010316_1619_Godaddy5.png" alt=""></p>
<p>6、付款成功后域名即续费成功了</p>
<p><img src="/wp-content/uploads/2016/01/010316_1619_Godaddy6.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kidozh.github.io/2016/01/01/hht-e5-a4-9c-e9-97-b4-e6-88-90-e5-83-8f-e5-ae-9e-e4-be-8b/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kido zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kidozh">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/01/hht-e5-a4-9c-e9-97-b4-e6-88-90-e5-83-8f-e5-ae-9e-e4-be-8b/" itemprop="url">[HHT]夜间成像实例</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-01T23:29:00+08:00">
                2016-01-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">杂谈</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>夜间防抖技术经常用于手机的拍照，所以我们也在西安的夜晚给出了我们的图像<a href="/wp-content/uploads/2016/01/IMG_20151231_182527_HHT.jpg"><img src="/wp-content/uploads/2016/01/IMG_20151231_182527_HHT.jpg" alt="IMG_20151231_182527_HHT"></a> <a href="/wp-content/uploads/2016/01/IMG_20151231_190125_HHT.jpg"><img src="/wp-content/uploads/2016/01/IMG_20151231_190125_HHT.jpg" alt="IMG_20151231_190125_HHT"></a> <a href="/wp-content/uploads/2016/01/IMG_20151231_190150_HHT.jpg"><img src="/wp-content/uploads/2016/01/IMG_20151231_190150_HHT.jpg" alt="IMG_20151231_190150_HHT"></a></p>
<p>在使用手机拍摄夜景的时候，由于这个时候快门时间被拉长，出了人肉尼康以外，应该尽量避免开启HDR（虽然可以提升对比度），而开启HTT，这也对我们之后处理噪点提供了良好的范例。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kidozh.github.io/2016/01/01/e6-96-b0-e5-b9-b4-e5-bf-ab-e4-b9-90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kido zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kidozh">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/01/e6-96-b0-e5-b9-b4-e5-bf-ab-e4-b9-90/" itemprop="url">新年快乐</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-01T16:32:25+08:00">
                2016-01-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">杂谈</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>2015年刚刚带着些许的寒意永远的沉睡在我的日记里了，新的一年就这样迫不及待的涌入了我的每一天，回望2015年，许许多多的记忆素无忌惮的漫上心头，过去的一年里，我的想法大多都得到了实现，并且在6月份的目标，也就是通过雅思也终于得到了代偿，这也意味着我有机会能够在下一年去德国的亚琛工业大学的想法得到实现。</p>
<p>去年，我大概也从一个心智不全的少年开始变得逐渐的成熟一点了。不过还是在许许多多的地方依然被过去羁绊。教改院的日子漫长而繁杂，回到本部有感觉怅然若失，曾经被咒骂的教改院的痛苦经历仿佛在记忆里恢复了一些温情，这也大概是病态的斯德哥尔摩综合症的体现吧。当然，去年也认识了许许多多新的同学，从他们的身上我也学会了如何面对不同的人应该有的态度。当然，今年也是第一次尝试了被背叛的无奈，我早该想到的。</p>
<p><a href="/wp-content/uploads/2015/12/1214901.jpg"><img src="/wp-content/uploads/2015/12/1214901.jpg" alt="Walker_man"></a>就像在黑夜里行走一样，也许生活不如意，但是丝毫也不阻碍我，眺望远方的期盼和前行的决心。</p>
<p>瞎说了这么多回忆，有空再整理一下吧。</p>
<p>不过我还是在北方的艳阳里，希望新的一年里，万事如意。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kidozh.github.io/2015/12/24/javascriptjquery-e5-85-a5-e9-97-a8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kido zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kidozh">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/24/javascriptjquery-e5-85-a5-e9-97-a8/" itemprop="url">[javascript]jQuery入门</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-12-24T00:54:00+08:00">
                2015-12-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/网页/" itemprop="url" rel="index">
                    <span itemprop="name">网页</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-jQuery简介"><a href="#1-jQuery简介" class="headerlink" title="1 jQuery简介"></a>1 jQuery简介</h1><p>jQuery是一种流行且易于使用的JavaScript框架。</p>
<p>整个jQuery库仅仅由一个单独的javascript文件组成，其简化了javascript中的包含物。整个jQuery的语法也易于学习。他使用一个简单的命名空间和一致的功能性。和jQuery用户接口插件一起可以创建一个强大的、高度交互的web应用。</p>
<h1 id="2-使用jQuery"><a href="#2-使用jQuery" class="headerlink" title="2 使用jQuery"></a>2 使用jQuery</h1><p>jQuery可以在<a href="http://www.jquery.com/" title="jQuery" target="_blank" rel="external">http://www.jquery.com/</a>获取。</p>
<h2 id="2-1-两种jQuery下载"><a href="#2-1-两种jQuery下载" class="headerlink" title="2.1 两种jQuery下载"></a>2.1 两种jQuery下载</h2><p>jQuery的主页有两种下载可供选择：产品版和开发板。</p>
<p>当我们使用的时候，可以使用内容分发网络（CDN）访问一种托管版本的jQuery。在国外google通过其API网站托管了jQuery和其他库。这样就意味着在建立网站的时候无需在自己的服务器本地托管jQuery。</p>
<p>由于知道的原因，在中国大陆境内访问Google托管的jQuery是较为困难的，所以可以使用下面的方法使用CDN的jQuery：</p>
<p>1. 360网站卫士托管了google的字体和库，同时在建立网站的时候也可以使用他们的CDN来加速整个网络：</p>
<p><a href="http://libs.useso.com/" title="360公共库" target="_blank" rel="external">http://libs.useso.com/</a></p>
<p>2. BootCDN托管了其他众多开源库，例如bootstrap、AngularJS，速度较为理想：</p>
<p><a href="http://www.bootcdn.cn/" title="BOOTCDN" target="_blank" rel="external">http://www.bootcdn.cn/</a></p>
<p>3. 百度静态资源公共库，同时也可以使用百度云加速来对整个网页进行加速：</p>
<p><a href="http://cdn.code.baidu.com/" title="百度" target="_blank" rel="external">http://cdn.code.baidu.com/</a></p>
<p>4. 七牛云，加速整个网页：</p>
<p><a href="http://www.qiniu.com/" title="七牛" target="_blank" rel="external">http://www.qiniu.com/</a></p>
<h2 id="2-2-包含jQuery"><a href="#2-2-包含jQuery" class="headerlink" title="2.2 包含jQuery"></a>2.2 包含jQuery</h2><p>使用<script></script>包含jQuery，这里使用bootcdn为例子：<br><figure class="highlight xhtml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/jquery/3.0.0-alpha1/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="2-3-基本的jQuery语法"><a href="#2-3-基本的jQuery语法" class="headerlink" title="2.3 基本的jQuery语法"></a>2.3 基本的jQuery语法</h2><p>当页面上包含jQuery库时，jQuery增加了一个名为jquery的函数，这里也可以使用jQuery的简单的方法：$()，这样仍可以访问jQuery库，同样的还有以下几种选择器：</p>
<table style="height: 115px;" width="783"><tbody><tr><td>语法</td><td>说明</td></tr><tr><td>$(“a”)</td><td>文档中所有的<a>元素</a></td></tr><tr><td>$(document)</td><td>整个文档，通常用来访问ready()函数</td></tr><tr><td>$(“#elementID”)</td><td>由elementID标识的元素</td></tr><tr><td>$(“.className”)</td><td>具有className类的元素</td></tr></tbody></table>

<p>jQuery以分号结束，同样的，可以使用单引号和双引号作为jQuery的选择器，两种方法等价。</p>
<h2 id="2-4-将jQuery链接到load事件"><a href="#2-4-将jQuery链接到load事件" class="headerlink" title="2.4 将jQuery链接到load事件"></a>2.4 将jQuery链接到load事件</h2><p>使用jQuery的最常见的方式就是在界面的load或者onload事件期间连接到元素。在jQuery之中，可以通过document元素的.ready()函数使用，也就是$(document).ready() </p>
<p>使用$(document).ready() 的方法就还是按照一般的javascript方法进行：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document Ready<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- jQuery文件。务必在bootstrap.min.js 之前引入 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://apps.bdimg.com/libs/jquery/1.11.1/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">    $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        alert(<span class="string">'hi!'</span>);</div><div class="line">    &#125;)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p> 这里jQuery和javascript函数混合在一起，使用jQuery来补充常规的javascript。</p>
<p>$(document).ready() 使得函数不惜要使用浏览器的load时间或者在load时间插入一个函数调用，有了$(document).ready() ，文档对象模型（DOM）的所有元素在.ready()函数执行前都可以使用，尽管不一定对所有的图像。同时$(document).ready() 也是大部分jQuery编程的<strong>核心</strong>。</p>
<h1 id="3-使用选择器"><a href="#3-使用选择器" class="headerlink" title="3 使用选择器"></a>3 使用选择器</h1><p>选择器常被用来识别和分组jQuery函数执行的元素，其常常用于手机具有某个标签，ID或者某个应用于他们类的所有元素，这里可以参考CSS的DOM。</p>
<h2 id="3-1-根据ID选择元素"><a href="#3-1-根据ID选择元素" class="headerlink" title="3.1 根据ID选择元素"></a>3.1 根据ID选择元素</h2><p>访问全部的就可以用下面的选择器：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#elementID"</span>)</div></pre></td></tr></table></figure></p>
<p> 而在Javascript中使用的是这样的：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">getElementByid(<span class="string">"elementID"</span>);</div></pre></td></tr></table></figure></p>
<h2 id="3-2-根据class选择元素"><a href="#3-2-根据class选择元素" class="headerlink" title="3.2 根据class选择元素"></a>3.2 根据class选择元素</h2><p>访问全部的就可以用下面的选择器：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">".className"</span>)</div></pre></td></tr></table></figure></p>
<h2 id="3-3-根据类型选择元素"><a href="#3-3-根据类型选择元素" class="headerlink" title="3.3 根据类型选择元素"></a>3.3 根据类型选择元素</h2><p>例如要访问所有的a元素的时候：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'a'</span>)</div></pre></td></tr></table></figure></p>
<h2 id="3-4-根据层级选择元素"><a href="#3-4-根据层级选择元素" class="headerlink" title="3.4 根据层级选择元素"></a>3.4 根据层级选择元素</h2><p>若要选择<div>元素内的所有<a>元素就应该使用：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"div a"</span>)</div></pre></td></tr></table></figure></a></div></p>
<p> 如果只想得到元素的直接后代，应该使用大于号：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"div &gt; p"</span>)</div></pre></td></tr></table></figure></p>
<p> 此语法生成所有<div>元素直接后代的<p>元素但是不包含选定</p><p>元素内的任何</p><p>元素</p>
<p>也可以使用:nth-child()选择器选择一组中的第n个孩子。例如，选择第三个：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"p:nth-child(3)"</span>)</div></pre></td></tr></table></figure></p>
<h2 id="3-5-根据位置选择元素"><a href="#3-5-根据位置选择元素" class="headerlink" title="3.5 根据位置选择元素"></a>3.5 根据位置选择元素</h2><p>例如在页面中选择第一个</p><p>元素：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"p:first"</span>)</div></pre></td></tr></table></figure></p>
<p> 当选择最后一个元素的时候：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"p:last"</span>)</div></pre></td></tr></table></figure></p>
<p> 当选择指定的索引值的元素的时候（第index个元素的时候）：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"p"</span>)[index]</div></pre></td></tr></table></figure></p>
<p> 需要指出的是，数组的索引值以0开头（MATLAB和Pascal这种奇葩）</p>
<p>另外还可以使用：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"p:eq(index)"</span>)</div></pre></td></tr></table></figure></p>
<p>当想使用奇数或者偶数的时候，应选择odd或者even：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"p:odd"</span>)</div><div class="line">$(<span class="string">"p:even"</span>)</div></pre></td></tr></table></figure></p>
<p> 这种方法常常用于控制表格的颜色</p>
<h2 id="3-6-根据属性选择元素"><a href="#3-6-根据属性选择元素" class="headerlink" title="3.6 根据属性选择元素"></a>3.6 根据属性选择元素</h2><p>当需要选择仅仅包含一个属性的元素或者包含一个具有特定属性的元素的时候，例如，要选择具有alt属性的图像：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"img[alt]"</span>)</div></pre></td></tr></table></figure></p>
<p> 仅选择alt被设置为某个值得图像：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'img[alt="alternative text"]'</span>)</div></pre></td></tr></table></figure></p>
<p> 当使用相同的引号的时候，需要转义内部符号，使用\”来转义</p>
<p>当然jQuery包含不要求属性完全匹配的通配符选择器：</p>
<table style="height: 138px;" width="804"><tbody><tr><td>语法</td><td>说明</td></tr><tr><td>attribute*=value</td><td>选择包含该属性的元素，属性值包含指定的值作为子字符串</td></tr><tr><td>attribute~=value</td><td>选择包含该属性的元素，属性的值包含指定的值作为由空格分隔的单词</td></tr><tr><td>attribute!=value</td><td><br><br>选择元素，这些元素或者不包含该属性或者该属性值不匹配指定的值<br></td></tr><tr><td>attribute$=value</td><td>选择包含指定属性的元素，属性以指定字符串结束</td></tr><tr><td>attribute^=value</td><td>选择包含指定属性的元素，属性以指定字符串开头</td></tr></tbody></table>

<h2 id="3-7-选择表单元素"><a href="#3-7-选择表单元素" class="headerlink" title="3.7 选择表单元素"></a>3.7 选择表单元素</h2><p>jQuery包含与web相关的本地选择器。</p>
<table style="height: 230px;" width="798"><tbody><tr><td>选择器</td><td>说明</td></tr><tr><td>:checkbox</td><td>选择所有复选框</td></tr><tr><td>:checked</td><td>选择所有被选中的元素</td></tr><tr><td>:input</td><td>选择页面上的所有输入元素</td></tr><tr><td>:password</td><td>选择所有密码输入</td></tr><tr><td>:radio</td><td>选择所有单选按钮输入</td></tr><tr><td>:reset</td><td>选择reset的所有输入类型</td></tr><tr><td>:selected</td><td>选择目前选定的所有元素</td></tr><tr><td>:submit</td><td>选择submit的所有输入类型</td></tr><tr><td>:text</td><td>选择text的所有输入类型</td></tr></tbody></table>

<h2 id="3-8-更多的选择器"><a href="#3-8-更多的选择器" class="headerlink" title="3.8 更多的选择器"></a>3.8 更多的选择器</h2><p>例如所有隐藏元素或者所有不可见元素以及激活元素、禁用元素以及其他元素的选择器。</p>
<p>可以参考<a href="http://api.jquery.com/catagory/selectors/" target="_blank" rel="external">http://api.jquery.com/catagory/selectors/</a>可以得到一个完整的且最新的jQuery选择器列表</p>
<h1 id="4-函数"><a href="#4-函数" class="headerlink" title="4 函数"></a>4 函数</h1><h2 id="4-1-遍历DOM"><a href="#4-1-遍历DOM" class="headerlink" title="4.1 遍历DOM"></a>4.1 遍历DOM</h2><p>可以使用.each() 函数接受一个选定元素的列表并且遍历其中的每个元素，使用遍历函数的时候，需要用户自定义封装类型函数和$(this) 选择器只想当前的对象，也就可以遍历当前元素了。</p>
<p>在之前的我们的rating System里面，我们需要对大于某个值的数字进行特定的css样式识别，所以我加入了这一段jQuery代码：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'rating'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">if</span>($(<span class="keyword">this</span>).text()&gt;=<span class="number">2000</span>)&#123;</div><div class="line">		$(<span class="keyword">this</span>).css(<span class="string">'font-weight'</span>,<span class="string">'bold'</span>);</div><div class="line">	&#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p> 这段代码使用了一个选择器收集所有class=rating的元素，接着使用jQuery的.each() 函数访问其中的每一个元素。在.each() 函数内，一个用户自定义函数执行一个条件来确定rating列中的值是否大于或者等于2000，如果是，代码调用.css()函数来为该元素添加一个font-weight属性并且将其设置为bold。</p>
<p>在这里我们必须强调.parent() 函数的使用，其从根本上升级了DOM树已找到包含特定元素的父标签，这样就可以对父标签的元素进行修改。.parent() 函数引入了一个名为Chaining的概念，他能提供额外级别的选择以及函数的多级应用，当然，这样也可能链接到难以阅读和维护的代码。党被链接的选择器元素发生改变的时候，Chaining会生成脆弱代码。</p>
<p>使用jQuery操作CSS样式类的方法主要包括：<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">.hasClass()</div><div class="line">.addClass()</div><div class="line">.removeClass()</div><div class="line">.toggleClass()</div></pre></td></tr></table></figure></p>
<h2 id="4-2-操作属性"><a href="#4-2-操作属性" class="headerlink" title="4.2 操作属性"></a>4.2 操作属性</h2><p>jQuery操作DOM属性的函数常见的有.attr() ，.html() ，.val() 以及其他函数，.attr() 被用于获取和设定属性，例如可以使用下列的方法设置一个图像的alt属性：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#elementID"</span>).attr(<span class="string">"alt"</span>,<span class="string">"newText"</span>)</div></pre></td></tr></table></figure></p>
<p><em> 在设置元素之前获取它的值是没有意义的。</em></p>
<h2 id="4-3-修改文档和HTML"><a href="#4-3-修改文档和HTML" class="headerlink" title="4.3 修改文档和HTML"></a>4.3 修改文档和HTML</h2><p>可以使用.text()和.val()这样的函数全部重写页面，但是这样并不是个好的方法。有的时候还是需要重写部分HTML或者修改文本或者值。</p>
<p>比如以下方法：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#elementID"</span>).html(<span class="string">'&lt;span class="redStyle"&gt;This is red text.&lt;/span&gt;'</span>);</div></pre></td></tr></table></figure></p>
<p> 这段的输出就是，由elementID表示的元素现在包含一个带有示例代码所示的新文本的<span>元素。</span></p>
<p>和.html() 函数一样，其支持选定元素对于文本的获取以及设置，与HTML不同的是.text() 函数只获取或者设置文本，因此其不可能修改选定元素的实际HTML。</p>
<h2 id="4-4-插入元素"><a href="#4-4-插入元素" class="headerlink" title="4.4 插入元素"></a>4.4 插入元素</h2><p>使用jQuery可以容易在页面中添加元素，主要采用的是.after() 和.before() 函数，正如其名由于，他们分别表示在选定元素后面或者前面添加元素。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#elementID"</span>).after(<span class="string">'&lt;span class="redStyle"&gt;This is red text.&lt;/span&gt;'</span>);</div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#elementID"</span>).before(<span class="string">'&lt;span class="redStyle"&gt;This is red text.&lt;/span&gt;'</span>);</div></pre></td></tr></table></figure>
<p>.append() 函数的工作方式基本与上面一样，但是.append() 函数在他所附加的元素<strong>内</strong>插入HTML代码，比如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    $(<span class="string">'body'</span>).append(<span class="string">'&lt;div id="myDiv"&gt;Adding a element&lt;/div&gt;'</span>); </div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>与.after() 不同，采用.append() 方法的输出将在<body>以内，而前者则会在body之外，这显然是不理想的</body></p>
<h1 id="5-更多jQuery参考资源"><a href="#5-更多jQuery参考资源" class="headerlink" title="5 更多jQuery参考资源"></a>5 更多jQuery参考资源</h1><p>可以参见jQuery官网。</p>
<p><a href="http://www.jquery.com/" title="jQuery" target="_blank" rel="external">http://www.jquery.com/</a></p>
<p>目前其可以在国内正常访问。</p>
</div></p>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kidozh.github.io/2015/12/22/latexbeamer-e4-b8-bb-e9-a2-98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kido zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kidozh">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/22/latexbeamer-e4-b8-bb-e9-a2-98/" itemprop="url">[LaTeX]beamer主题</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-12-22T17:24:09+08:00">
                2015-12-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LaTeX/" itemprop="url" rel="index">
                    <span itemprop="name">LaTeX</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-简介"><a href="#1-简介" class="headerlink" title="1 简介"></a>1 简介</h1><p>在前面的代码中出现了\usetheme{AnnArbor} ，他是beamer提供的演示主题调用命令，AnnArbor就是主题中的一种，如果这个被改成Hannover，主题将发生巨大变化。</p>
<h1 id="2-类别"><a href="#2-类别" class="headerlink" title="2 类别"></a>2 类别</h1><p>其主要分为外部主题、内部主题、颜色主题、字体主题和演示主题；而且每类主题又具有多种样式，调用主题的命令就相当于调用命令\usepackage 。</p>
<h2 id="2-1-外部主题"><a href="#2-1-外部主题" class="headerlink" title="2.1 外部主题"></a>2.1 外部主题</h2><p>幻灯文类定义了许多的外部主题，一种外部主题就是一种幻灯片的基本外观样式，其可以使用命令<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">useoutertheme</span><span class="string">[pattern]</span><span class="string">&#123;outertheme&#125;</span></span></div></pre></td></tr></table></figure></p>
<p> 其中外部主题的名称和功能说明如下：</p>
<ul>
<li>default 只有符号条，是最基本的配置，帧标题左对齐，徽标的位置在每幅幻灯片的右下角</li>
<li>infolines 添加顶边导航条，并且中分两段，左侧显示当前节标题，右端显示当前小节标题，增添导航条，等分为三段，从左至右分别是作者姓名和院校名称，论文题名简称，日期和帧码</li>
<li>miniframes 添加定边导航条，分为三层，上层显示所有节标题，中层用若干小圆圈表示该节中帧数目，下层显示当前小节标题。该主题的样式具有三种常用选项：1.footline=authorinstitute，增添底边导航条，显示作者姓名和院校名称，2.footline=authortitle，增添底边导航条，显示论文题名简称和作者姓名，3.footline=institutetitle，增添底边导航条，显示论文题名简称和院校名称。4.subsection=false，取消再定边导航条中显示当前小节标题</li>
<li>split 增设顶边导航条，中分两段，左侧显示节标题，每个节标题占一行，右侧显示当前节中个小节标题，每个小节标题各占一行，例如使用beamer的compress选项，将左侧各标题和右端各小节标题压缩至一行，添加底边导航栏，中分两段，左端显示作者姓名，右端显示题名简称</li>
<li>shadow 该主题是split的扩展，出了具有与spilt相同的功能外，还能在定边导航栏或者帧标题底部添加阴影，产生立体感</li>
<li>sidebar 增加左侧导航条，自上而下显示题名简称、作者姓名、节标题一级小节标题，\section<em> 和\subsection</em> 标题也在导航栏中显示，但是目录中不予显示，徽标位置设定在每幅导航栏的左上角，其具有以下选项：1.height=高度 weight=宽度 设置帧标题条的高度和宽度，高度默认值是字体行高的2.5倍，足以排版两行帧标题或者一行帧副题，宽度默认为字体行高的2.5被，若设定0pt，则侧边导航条消失；2.hideothersubsections  在侧边导航条之中，除节标题外仅显示当前小节标题，其他小节标题不予显示。3.hideallsubsections 仅显示节标题，所有小节标题都不再显示 4. right 将导航条置于右侧 </li>
<li>smoothbars 与miniframes主题功能基本相同，不同之处在于导航条背景与帧背景色过渡的较为平滑，其仅有一个参数：subsection=false 取消顶边导航条中显示当前小节标题</li>
<li>tree 添加顶边导航栏，中分三行，上行显示题名简称，中行显示当前节标题，下行显示当前小节标题，两行之间使用树形指引线连接</li>
<li>smoothtree 与tree类似，但是没有树形指引线，其次就是每种背景色之间具有一段平滑的过渡</li>
</ul>
<h2 id="2-2-内部主题"><a href="#2-2-内部主题" class="headerlink" title="2.2 内部主题"></a>2.2 内部主题</h2><p>也就是设定多种幻灯片的内部主题以及内部细节，其使用命令：</p>
<p>\useinnertheme[pattern]{innertheme} </p>
<p>其内部主题名称以及功能有：</p>
<ul>
<li>default 默认值，其定义了论文题名、作者姓名、各种列表、插图以及表格标题、各种模块、摘要、脚注以及参考文献等文本元素的样式</li>
<li>circles 将itemize item中的小三角改为小圆盘，排序列表enumerate items添加背景小圆盘，目录中每个条目前加一个小圆盘</li>
<li>rectangle 将itemize item中的小三角改为小方块，排序列表enumerate items添加背景小方块，目录中每个条目前加一个小方块</li>
<li>rounded 将itemize item中的小三角改为小圆，排序列表enumerate items添加背景小圆，目录中每个条目前加一个小圆，题名和各种模块的背景框由直角变更为圆弧，其有下列参数：shadow 给各种木块添加阴影，以满足立体感。</li>
</ul>
<h2 id="2-3-颜色主题"><a href="#2-3-颜色主题" class="headerlink" title="2.3 颜色主题"></a>2.3 颜色主题</h2><p>幻灯片文类域定义了多种幻灯片的颜色主题，一种颜色主题就是一种幻灯片的基本色调，调用某种颜色命令可以使用命令：<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">usecolortheme</span><span class="string">[pattern]</span><span class="string">&#123;colorTheme&#125;</span></span></div></pre></td></tr></table></figure></p>
<p> 其中颜色主题的名称以及其功能说明如下：</p>
<ul>
<li>default 默认值，其定义了论文题名、作者姓名、各种列表、插图和表格标题、各种模块、摘要、脚注和参考文献等文本元素的前景和背景颜色。其中常规文本白底黑字，实例模块的标题字体是暗绿色，论文名、节标题和帧标题的字体均是暗蓝色。</li>
<li>albatross 主背景、各种导航条和各种模块的背景均为深蓝色或者青色，常规文本字体改成了金黄色，每幅幻灯片以深蓝色和金黄色作为主色调。当论文陈述环境的光线较暗时候，这种深色调不利于观看，该主题也只有一种可选项：overlystylish：每幅幻灯片的中部都有背景色</li>
<li>beaver 顶边导航栏和底边导航栏变为暗红色、灰色和浅灰色，字体变更为白色和暗红色，帧标题的北京为浅灰色，字体为暗红色；左侧导航条背景为浅灰色</li>
<li>beetle 常规文本为黑色，背景为灰色；题名、帧标题和节标题为白色；定边、底边和左侧导航条背景色为深蓝和青色。主色调为<strong>黑白灰</strong>。</li>
<li>crane 证明等木块的标题北京为橙色，文本背景为黄色，实力木块的标题背景为绿色，文本背景为浅绿；顶边和底边导航栏的背景为橙色或者黄色</li>
<li>dolphin 将顶边和底边导航条的背景换成深蓝、蓝和浅蓝色</li>
<li>dove 常规字体、顶边和底边导航条均为白底黑字；适合黑白打印</li>
<li>fly 常规文本灰底黑字；顶边和底边导航条背景色均为灰色，左侧导航条的背景为深灰色；论文标题、帧标题和节标题均为灰底白字</li>
<li>lily 取消其他颜色对各种模块背景色的设置，恢复为白色</li>
<li>orchid 定理类模块标题背景为深蓝色，文本背景为浅蓝色，示例模块的标题北京为深绿，文本背景为浅绿色</li>
<li>rose 定理类模块标题背景为浅蓝，文本背景为浅蓝色，示例模块的标题北京为浅绿，文本背景为浅淡绿</li>
<li>seagull 所有模块的标题均为浅灰色，背景为灰色；左侧、顶边、底边导航栏中的字体为黑色，背景为深灰色、灰色和浅灰色</li>
<li>seahorse 将论文标题、帧标题、顶边和底边导航栏等背景变更为浅蓝色或者浅淡蓝色</li>
<li>structure 在样式这个可选参数使用任意选项指定颜色，可将论文题名、帧标题、节标题和侧边导航栏等的字体颜色以及符号条的颜色改为所指定的颜色。named=颜色名，颜色名必须在xcolor宏包中定义的颜色名，例如\usecolortheme[named=yellow]{structure} 就可以将主题色调设定为黄色。当RGB=三原色值时候，就可以把颜色指定为所选的RGB值，例如\usecolortheme[RGB={128,0,0}]{structure} 就可以设定为暗红色了。</li>
<li>whale 顶边和底边导航栏的字体改为白色，背景换为黑色、深蓝和蓝色</li>
<li>wolverine 论文题名和帧标题背景变更为金黄色，左侧导航条背景为橘红色</li>
</ul>
<p>beamer中，每幅幻灯片的背景由两层组成，下层是background canvas主背景层，上层则是background次背景层，而所有文本元素都在这两层的上。主背景层提供主背景色，次背景层则用于设置栅格或者背景图案。在有侧边导航条的幻灯片之中，侧边导航条具有自己的背景层sidebar canvas</p>
<h2 id="2-4-字体主题"><a href="#2-4-字体主题" class="headerlink" title="2.4 字体主题"></a>2.4 字体主题</h2><p>幻灯文类同样预定义了许多的字体元素，其中一种字体主题就是一种幻灯片的字体样式，其设定了幻灯片中标题、数学式等文本元素和导航条之中的字体属性。调用某种字体主题可以使用命令：<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">usefonttheme</span><span class="string">[pattern]</span><span class="string">[fontTheme]</span></span></div></pre></td></tr></table></figure></p>
<p>其中字体主题的名称和功能如下：</p>
<ul>
<li>default 各种标题和文本字体均为等线体，数学式中的字体为等斜线体</li>
<li>serif 各种标题和字体均改为直立罗马体，该主题的样式可选参数有：1. stillsansserifmath 指定数学式中的字体仍为斜等线体，2. stillsansserifsmall 侧边、顶边和底边导航栏中字体仍为等线体。3. stillsansseriflarge 各种标题的字体仍用等线体。 4. stillsansseriftext 所有常规文本字体仍为等线体 5. onlymath 只有数学式中的字体改为斜罗马体</li>
<li>structurebold 各种标题的字体和各种导航栏的字体变更为粗体，该主题的可选样式有：1. onlysmall 只把各种导航条中的字体改为粗体 2. 只把各种标题的字体改为粗体</li>
<li>structureitalicserif 各种标题的字体和各种导航条中的字体改为斜罗马体。该主题样式的可选参数具有下列参数：1. onlysmall 只将各种导航条中的字体变更为斜罗马体 2. onlylarge 只将各种标题中的字体变更为斜罗马体</li>
<li>structuresmallcapsserif 各种标题的字体和各种导航条中的字体变更为小型大写字体。该主题的可选参数具有以下选项：1. onlysmall 只将各种导航条中的字体变更为小型大写字体 2. onlylarge 只将各种标题中的字体变更为小型大写字体</li>
</ul>
<p>字体主题命令无法变更字体的默认字族。<em>若需要，则须另行调用相关的字体宏包，例如arev、bookman、helvet、mathptmx和times等或者定义系统的默认字族。</em></p>
<h2 id="2-5-演示主题"><a href="#2-5-演示主题" class="headerlink" title="2.5 演示主题"></a>2.5 演示主题</h2><p>幻灯文类预定义了多种演示主题，其详细定义了幻灯片之中的所有细节，主要是上述四种主题的不同组合。可以使用命令：<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">usetheme</span><span class="string">[pattern]</span><span class="string">&#123;displayTheme&#125;</span></span></div></pre></td></tr></table></figure></p>
<p>其中演示主题的名称以及功能可以按照<strong>导航条的有无</strong>分述如图：</p>
<h3 id="2-5-1-无导航条"><a href="#2-5-1-无导航条" class="headerlink" title="2.5.1 无导航条"></a>2.5.1 无导航条</h3><p>default 默认值，只附带符号条，常规文本白底黑字，论文题名、帧标题和节标题等为白底蓝字，实际上该主题由以下四个主题组合而成。<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">useoutertheme</span><span class="string">&#123;default&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">useinnertheme</span><span class="string">&#123;default&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">usecolortheme</span><span class="string">&#123;default&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">usefonttheme</span><span class="string">&#123;default&#125;</span></span></div></pre></td></tr></table></figure></p>
<p>Pittsburgh 只有符号条，帧标题由默认的左对齐改成右对齐</p>
<p>Rochester 只有符号条，帧标题蓝底白字，左对齐。该主题的样式只有一个选项：height=高度 设定帧标题条高度</p>
<h3 id="2-5-2-侧边导航条"><a href="#2-5-2-侧边导航条" class="headerlink" title="2.5.2 侧边导航条"></a>2.5.2 侧边导航条</h3><ul>
<li>Berkeley 带有左侧导航条和符号条。左侧导航条蓝底白字，从上至下显示题名简称、作者姓名、节和小节标题</li>
<li>Goettingen 带有右侧导航条和符号条。左侧导航条浅蓝底黑字，从上至下显示题名简称、作者姓名、节和小节标题</li>
<li>Hannover 带有左侧导航条和符号条。左侧导航条浅蓝底白字，从上至下显示题名简称、作者姓名、节和小节标题</li>
<li>Marburg 带有右侧导航条和符号条。左侧导航条深蓝底白字，从上至下显示题名简称、作者姓名、节和小节标题</li>
<li>PaloAlto 带有左侧导航条和符号条。左侧导航条蓝底白字，从上至下显示题名简称、作者姓名、节和小节标题</li>
</ul>
<h3 id="2-5-3-顶边导航栏"><a href="#2-5-3-顶边导航栏" class="headerlink" title="2.5.3 顶边导航栏"></a>2.5.3 顶边导航栏</h3><ul>
<li>Antibes 带有顶边导航栏和符号条。顶边导航栏显示带有指引线的树形章节目录，字体为白色，背景为青色</li>
<li>JuanLesPins 带有顶边导航栏和符号条。顶边导航栏显示树形章节目录，字体为白色，背景为青色</li>
<li>Montepellier 带有顶边导航栏和符号条。顶边导航栏有上下两条蓝色装饰线，中间白底黑字，显示带有指引线的树形章节目录</li>
<li>Singapore 带有顶边导航栏和符号条。顶边导航栏显示节标题，每一帧用一个圆点表示，浅蓝底色深蓝字体</li>
<li>Darmstadt 带有顶边导航栏和符号条。顶边导航栏黑底白字，显示节和小节标题</li>
</ul>
<h3 id="2-5-4-底边导航栏"><a href="#2-5-4-底边导航栏" class="headerlink" title="2.5.4 底边导航栏"></a>2.5.4 底边导航栏</h3><ul>
<li>Boadilla 只有底边导航栏和符号条。底边导航栏等分为三段，左端显示作者姓名和院校名称，深蓝底白字；终端显示题名简称，蓝底白字；右端显示日期和帧码，浅蓝底黑字。该主题样式的可选参数只有一个选项：secheader 增加顶边导航条，中分两段，左端深蓝底白字，显示当前节标题，右端蓝底黑字，显示小节标题</li>
<li>Madrid 只有底边导航栏和符号条。底边导航栏等分为三段，左端显示作者姓名和院校名称，黑底白字；终端显示题名简称，深蓝底白字；右端显示日期和帧码，蓝底白字。</li>
</ul>
<h3 id="2-5-5-顶边和底边导航栏"><a href="#2-5-5-顶边和底边导航栏" class="headerlink" title="2.5.5 顶边和底边导航栏"></a>2.5.5 顶边和底边导航栏</h3><ul>
<li>AnnArbor 带有顶边、底边导航栏和符号条。顶边导航栏中分两段，左端显示节标题，字体为橘红色，背景为青色；右端显示小节标题，字体为黑色，背景为橘黄色。底边导航栏等分三段，左端显示作者姓名和院校名称，字体为橘红色，背景为深蓝色；中端显示题名简称，字体为青色，背景为橘黄色；右端显示日期和帧码，字体为黑色，背景为黄色</li>
<li>CambridgeUS 带有顶边、底边导航栏和符号条。顶边导航栏中分两段，左端显示节标题，褐底白字；右端显示小节标题，灰底褐字。底边导航栏等分三段，左端显示作者姓名和院校名称，褐底白字；中端显示题名简称，浅灰色褐字；右端显示日期和帧码，灰底褐字</li>
<li>Copenhagen 带有顶边、底边导航栏和符号条。顶边导航栏中分两段，左端显示节标题，黑底白字；右端显示小节标题，蓝底白字。底边导航栏等分两段，左端显示作者姓名，黑底白字；右中端显示题名简称，蓝底白字</li>
<li>Warsaw 与Copenhagen类似，但是在题名、帧标题和各种模块的背景框外侧添加阴影，产生立体感</li>
</ul>
<p>徽标的有无和其位置的高低，与所选演示主题和外部主题有关。可使用命令\insertlogo{logo} 在当前位置插入徽标</p>
<p>演示主题与颜色主题的各种组合所生成的各种幻灯片样式可以查阅网页：</p>
<p><a href="http://deic.uab.es/~iblanes/beamer_gallery/" title="uab" target="_blank" rel="external">http://deic.uab.es/~iblanes/beamer_gallery/</a></p>
<p><a href="https://www.hartwork.org/beamer-theme-matrix/" title="Hartwork" target="_blank" rel="external">https://www.hartwork.org/beamer-theme-matrix/</a></p>
<p>目前在国内都可以自由访问。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="kido zhang" />
          <p class="site-author-name" itemprop="name">kido zhang</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">112</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">78</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/kidozh" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/331837926Ji" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                    
                      Twitter
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/kidozh" target="_blank" title="weibo">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      weibo
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://douban.com/people/kidozh" target="_blank" title="douban">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      douban
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/kidozh" target="_blank" title="zhihu">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      zhihu
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 &mdash; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kido zhang</span>

  
</div>


  <div class="powered-by">
    由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
  </div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">
    主题 &mdash;
    <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
      NexT.Pisces
    </a>
  </div>


        







        
      </div>
    </footer>

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
