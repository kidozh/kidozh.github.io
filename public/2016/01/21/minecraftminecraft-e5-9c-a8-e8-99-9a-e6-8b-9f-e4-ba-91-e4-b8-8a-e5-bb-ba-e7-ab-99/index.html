<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> [MineCraft]Minecraft在虚拟云上建站 · kidozh</title><meta name="description" content="[MineCraft]Minecraft在虚拟云上建站 - kido zhang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://kidozh.com/atom.xml" title="kidozh"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/u/1793490853" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/kidozh" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">[MineCraft]Minecraft在虚拟云上建站</h1><div class="post-info">2016年1月21日</div><div class="post-content"><h1 id="服务器申请"><a href="#服务器申请" class="headerlink" title="服务器申请"></a>服务器申请</h1><p>首先我们来获得一个服务器，目前国内比较成熟的是<a href="http://www.qcloud.com/" target="_blank" rel="external">腾讯云</a>和<a href="https://www.aliyun.com" target="_blank" rel="external">阿里云</a>，对于学生，他们都有不同的优惠。腾讯的最低配置是1元/月，阿里是10元/月。当然你也可以使用国外的VPS，DigitalOcean和linode，但是国外服务器可能访问缓慢以及结账较为麻烦，所以在这里我们可以使用阿里或者腾讯云。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi1.png" alt=""></p>
<p>配置情况如下：</p>
<ul>
<li>操作系统 CentOS 6.5 64位/Ubuntu 14.04 LTS 64位</li>
<li>CPU 1核</li>
<li>内存 1GB</li>
<li>系统盘 8GB(云硬盘)</li>
<li>数据盘 0GB</li>
<li>公网带宽 1Mbps</li>
</ul>
<p>如果规模是5人的话，这个还是可以很好的运行的，如果你觉得有点延迟的话，升级带宽就可以啦。</p>
<h1 id="配置服务器"><a href="#配置服务器" class="headerlink" title="配置服务器"></a>配置服务器</h1><p>首先，我们最好还是使用Linux服务器，因为会比较稳定，但是需要注意的是操作者最好能懂得一些基本的Shell命令行。</p>
<p>其次，这里我们必须配置服务器信息，你可以使用密码或者公钥来登陆，为了简便起见，这里我使用了密码登陆。</p>
<h1 id="登录服务器"><a href="#登录服务器" class="headerlink" title="登录服务器"></a>登录服务器</h1><p>为了操作我们的服务器，我们需要使用Putty和xftp。</p>
<p>首先，为了使用命令行，在windows下我们可以使用putty，<a href="http://the.earth.li/~sgtatham/putty/latest/x86/putty.exe" target="_blank" rel="external">这里</a>就有下载链接。由于我们还需要上传文件到服务器，我们也需要一个FTP工具，xftp，<a href="http://dx2.xiazaiba.com/Soft/X/Xftp_5.0.680.0_XiaZaiBa.zip" target="_blank" rel="external">这里</a>就有下载地址，我们可以使用个人/家庭版来免费使用这款软件。</p>
<p>会到服务器控制台，待到系统安装完毕之后，打开Putty，填入服务器公网：</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi2.png" alt=""></p>
<p>点击Open登陆，然后再弹出的窗口之中输入用户名root和密码。密码默认在Linux中不显示。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi3.png" alt=""></p>
<p>首先需要更新系统，敲入命令：<code>yum -y update</code></p>
<p>等待包更新完毕后，敲入命令：<code>yum -y upgrade</code></p>
<p>然后就建立了基本服务器配置</p>
<h1 id="建立MC服务器"><a href="#建立MC服务器" class="headerlink" title="建立MC服务器"></a>建立MC服务器</h1><p>首先我们需要安装Java环境。我的办法是本地下载Java的RPM安装包，然后通过xftp的SFTP连接并上传到服务器，然后在服务器端安装，这样速度会比较快一点。</p>
<p>打开Java的下载页面：<a href="http://www.java.com/zh_CN/download/manual.jsp" target="_blank" rel="external">Java Download</a>，然后选择我们的服务器系统对应版本。选择”Linux x64 RPM”.</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi4.png" alt=""></p>
<p>下载完毕后，打开xftp软件，点击新建(New)，然后Host中填入你的公网IP，协议选择SFTP，在下边的登陆信息中填入你的用户名和密码。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi5.png" alt=""></p>
<p>弹出的窗口选择第二个即可：接受并保存（Accept and Save）。在右边的窗口即可显示你的服务器中文件信息了，左边是你的计算机中的文件。</p>
<p>在右边的窗格，路径输入”/usr”，然后右键新建文件夹，名为”java”,左边的窗格中找到下载好的RPM包，点击右键，选择传输（Transfer）即可。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi6.png" alt=""></p>
<p>然后回到Putty，我们需要在服务器中安装Java以及一个工具：Screen。</p>
<p>首先我们在命令行中执行：<code>yum -y install screen</code></p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi7.png" alt=""></p>
<blockquote>
<p>GNU Screen是一款由GNU计划开发的用于命令行终端切换的自由软件。用户可以通过该软件同时连接多个本地或远程的命令行会话，并在其间自由切换。&gt; 常用Screen 命令：</p>
<ul>
<li><span style="line-height: 1.25;">· screen -S mc //新建一个叫mc的Screen</span></li>
<li><span style="line-height: 1.25;">· screen -r mc //返回名为mc的Screen</span></li>
<li><span style="line-height: 1.25;">· 键盘按Ctrl + A //退出刚创建的Screen</span></li>
<li><span style="line-height: 1.25;">· screen -ls //显示所有的Screen</span></li>
<li><span style="line-height: 1.25;">· exit //在Screen中使用可以关闭当前Screen会话</span></li>
</ul>
</blockquote>
<p>更多资料参考：<a href="http://www.cnblogs.com/mchina/archive/2013/01/30/2880680.html" target="_blank" rel="external">linux screen 命令详解</a> By David Camp</p>
<p>安装完后，等到RPM上传成功之后，依次执行下列命令，用于安装Java环境：</p>
<p><code>cd /usr/java</code></p>
<p><code>rpm -ivh jre- //此处按键盘的Tab键即可自动补全，你上传的文件名</code></p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi8.png" alt=""></p>
<p>上述操作执行完毕后，输入以下命令:</p>
<p><code>java -version</code></p>
<p>若提示如下，即说明已经Java环境已安装成功。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi9.png" alt=""></p>
<p>然后我们需要修改Java的配置文件及环境变量，首先查看我们的Java文件夹的名字，在Putty中依次输入如下命令：</p>
<p>·<code>cd /usr/java</code>·</p>
<p><code>ls –al</code></p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi10.png" alt=""></p>
<p>如图，我的文件夹名为：jre1.8.0_71，复制一下这个名字。</p>
<p>接下来依次执行下列命令（一次一行）：</p>
<p><code>echo &#39;export JAVA_HOME=/usr/java/jre1.8.0_71&#39; &amp;gt;&amp;gt; /etc/profile</code></p>
<p>这句中的jre1.8.0_1即为刚才的名字。</p>
<p><code>echo &#39;export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar&#39;&amp;gt;&amp;gt; /etc/profile</code></p>
<p><code>echo &#39;export PATH=$PATH:$JAVA_HOME/bin&#39; &amp;gt;&amp;gt; /etc/profile</code></p>
<p>OK，至此Java环境已配置完毕。</p>
<h1 id="下载MC服务器"><a href="#下载MC服务器" class="headerlink" title="下载MC服务器"></a>下载MC服务器</h1><p>这一步我简化了，我直接去MCBBS上下了一个简化版(主要是懒得配置MOD之间的关系了)，把文件上传即可。</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi11.png" alt=""></p>
<p>这里实际上我上传的地方是/home/mcServer</p>
<h1 id="设置服务器端的文件"><a href="#设置服务器端的文件" class="headerlink" title="设置服务器端的文件"></a>设置服务器端的文件</h1><p>首先着上传的时间安装Screen。</p>
<p>趁首先创建个新的Screen，命名为mc，用于启动管理MC服务器：</p>
<p><code>screen -S mc</code></p>
<p>然后切换到mcserver目录：</p>
<p><code>cd /home/mcServer</code></p>
<p>解压zip文件到本目录：</p>
<p><code>unzip mcserver.zip</code></p>
<p>建立启动脚本文件：</p>
<p><code>vim start.sh</code></p>
<p>新建start.sh文件，弹出编辑器窗口，粘贴内容如下：</p>
<pre>#!/bin/sh 
java -Xmx768M -Xms512M -jar /home/mcserver/minecraft_server.1.7.10.jar
</pre>

<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi12.png" alt=""></p>
<p>其中的minecraft_server.1.7.10.jar为你的服务器文件，即当前目录下你上传的server.jar文件名。</p>
<p>执行命令，赋予脚本执行权限。</p>
<p><code>chmod 777 start.sh</code></p>
<h1 id="启动MC服务器"><a href="#启动MC服务器" class="headerlink" title="启动MC服务器"></a>启动MC服务器</h1><p>首先还是要配置server.properties，这一点按照<a href="http://minecraft-zh.gamepedia.com/Server.properties" target="_blank" rel="external">mc wiki properties</a>上配置就可以了</p>
<p>Done~!</p>
<p>搭建完成，用下载好的MC1.7.10的客户端连接测试一下~</p>
<p>直接连接服务器，输入自己服务器的IP地址即可.</p>
<p>下次我们使用Putty连接服务器时，只要使用命令：</p>
<p><code>screen -r mc</code>即可回到我们的MC服务器状态啦~</p>
<h1 id="域名服务"><a href="#域名服务" class="headerlink" title="域名服务"></a>域名服务</h1><p>这点和我们之前的架设博客很相似，当我们想隐藏我们的ip的时候就可以用这个了</p>
<p>只要通过A记录解析就可以了</p>
<p><img src="/wp-content/uploads/2016/01/012116_1557_MineCraftMi13.png" alt=""></p>
<p>参考来源：<a href="http://sintonblog.win/mc-build-2/" target="_blank" rel="external">http://sintonblog.win/mc-build-2/</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2016/01/26/djangomodel-e4-bb-8b-e7-bb-8d/" class="prev">上一篇</a><a href="/2016/01/13/django-e7-bc-96-e5-86-99-e7-ac-ac-e4-b8-80-e4-b8-aadjango-e7-a8-8b-e5-ba-8f/" class="next">下一篇</a></div><div class="copyright"><p>© 2013 - 2017 <a href="http://kidozh.com">kido zhang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>